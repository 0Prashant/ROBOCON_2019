ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"lidar.cpp"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._ZN5QueueIhLj2EED2Ev,"axG",%progbits,_ZN5QueueIhLj2EED5Ev,comdat
  18              		.align	1
  19              		.weak	_ZN5QueueIhLj2EED2Ev
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	_ZN5QueueIhLj2EED2Ev:
  26              	.LFB146:
  27              		.file 1 "Core/Inc/utils/queue.h"
   1:Core/Inc/utils/queue.h **** /*
   2:Core/Inc/utils/queue.h ****  * queue.h
   3:Core/Inc/utils/queue.h ****  * 
   4:Core/Inc/utils/queue.h ****  * Created : 11/16/2018
   5:Core/Inc/utils/queue.h ****  *  Author : n-is
   6:Core/Inc/utils/queue.h ****  *   email : 073bex422.nischal@pcampus.edu.np
   7:Core/Inc/utils/queue.h ****  */
   8:Core/Inc/utils/queue.h **** 
   9:Core/Inc/utils/queue.h **** #ifndef _QUEUE_H_
  10:Core/Inc/utils/queue.h **** #define _QUEUE_H_
  11:Core/Inc/utils/queue.h **** 
  12:Core/Inc/utils/queue.h **** #include "stm32f4xx_hal.h"
  13:Core/Inc/utils/queue.h **** 
  14:Core/Inc/utils/queue.h **** template <class T, size_t q_size>
  15:Core/Inc/utils/queue.h **** class Queue
  16:Core/Inc/utils/queue.h **** {
  17:Core/Inc/utils/queue.h **** public:
  18:Core/Inc/utils/queue.h ****         Queue():head_(0), tail_(0), curr_size_(0) { }
  19:Core/Inc/utils/queue.h ****         Queue(Queue &&) = default;
  20:Core/Inc/utils/queue.h ****         Queue(const Queue &) = default;
  21:Core/Inc/utils/queue.h ****         Queue &operator=(Queue &&) = default;
  22:Core/Inc/utils/queue.h ****         Queue &operator=(const Queue &) = default;
  23:Core/Inc/utils/queue.h ****         ~Queue() {  }
  28              		.loc 1 23 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
  34              		.loc 1 23 0
  35 0000 7047     		bx	lr
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 2


  36              		.cfi_endproc
  37              	.LFE146:
  39              		.weak	_ZN5QueueIhLj2EED1Ev
  40              		.thumb_set _ZN5QueueIhLj2EED1Ev,_ZN5QueueIhLj2EED2Ev
  41              		.section	.text._ZN5QueueItLj2EED2Ev,"axG",%progbits,_ZN5QueueItLj2EED5Ev,comdat
  42              		.align	1
  43              		.weak	_ZN5QueueItLj2EED2Ev
  44              		.syntax unified
  45              		.thumb
  46              		.thumb_func
  47              		.fpu fpv4-sp-d16
  49              	_ZN5QueueItLj2EED2Ev:
  50              	.LFB149:
  51              		.loc 1 23 0
  52              		.cfi_startproc
  53              		@ args = 0, pretend = 0, frame = 0
  54              		@ frame_needed = 0, uses_anonymous_args = 0
  55              		@ link register save eliminated.
  56              	.LVL1:
  57              		.loc 1 23 0
  58 0000 7047     		bx	lr
  59              		.cfi_endproc
  60              	.LFE149:
  62              		.weak	_ZN5QueueItLj2EED1Ev
  63              		.thumb_set _ZN5QueueItLj2EED1Ev,_ZN5QueueItLj2EED2Ev
  64              		.section	.text._Z41__static_initialization_and_destruction_0ii,"ax",%progbits
  65              		.align	1
  66              		.syntax unified
  67              		.thumb
  68              		.thumb_func
  69              		.fpu fpv4-sp-d16
  71              	_Z41__static_initialization_and_destruction_0ii:
  72              	.LFB144:
  73              		.file 2 "Core/Src/devs/lidar.cpp"
   1:Core/Src/devs/lidar.cpp **** /*
   2:Core/Src/devs/lidar.cpp ****  * lidar.cpp
   3:Core/Src/devs/lidar.cpp ****  * 
   4:Core/Src/devs/lidar.cpp ****  * Created : 11/9/2018
   5:Core/Src/devs/lidar.cpp ****  *  Author : n-is
   6:Core/Src/devs/lidar.cpp ****  *   email : 073bex422.nischal@pcampus.edu.np
   7:Core/Src/devs/lidar.cpp ****  */
   8:Core/Src/devs/lidar.cpp **** 
   9:Core/Src/devs/lidar.cpp **** #include "periphs/usart.h"
  10:Core/Src/devs/lidar.cpp **** 
  11:Core/Src/devs/lidar.cpp **** /*
  12:Core/Src/devs/lidar.cpp ****  * Configuring LIDAR for measuring distance
  13:Core/Src/devs/lidar.cpp ****  * => If the pulse emitted by the LIDAR is n us long, then the distance to
  14:Core/Src/devs/lidar.cpp ****  *      obstacle is n mm
  15:Core/Src/devs/lidar.cpp ****  TODO : Send low on Trigger Pin
  16:Core/Src/devs/lidar.cpp ****  TODO : Wait for high to occur in Monitor Pin
  17:Core/Src/devs/lidar.cpp ****  TODO : Start timer
  18:Core/Src/devs/lidar.cpp ****  TODO : Wait for low to occur in Monitor Pin
  19:Core/Src/devs/lidar.cpp ****  TODO : Stop timer
  20:Core/Src/devs/lidar.cpp ****  TODO : Get Counter Value
  21:Core/Src/devs/lidar.cpp ****  */
  22:Core/Src/devs/lidar.cpp **** 
  23:Core/Src/devs/lidar.cpp **** #define START_BYTE      (0xA5)
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 3


  24:Core/Src/devs/lidar.cpp **** #define NUM_DATA        (2)     // For LIDAR
  25:Core/Src/devs/lidar.cpp **** 
  26:Core/Src/devs/lidar.cpp **** #include "utils/queue.h"
  27:Core/Src/devs/lidar.cpp **** #include "periphs/usart.h"
  28:Core/Src/devs/lidar.cpp **** 
  29:Core/Src/devs/lidar.cpp **** static uint8_t gRx_Data;
  30:Core/Src/devs/lidar.cpp **** static Queue<uint8_t, NUM_DATA> gLidar_Bytes;
  31:Core/Src/devs/lidar.cpp **** static uint8_t gNum_Data_Received = 0;
  32:Core/Src/devs/lidar.cpp **** static Queue<uint16_t, 2> gLidar_Data;
  33:Core/Src/devs/lidar.cpp **** static uint16_t gDistance;
  34:Core/Src/devs/lidar.cpp **** 
  35:Core/Src/devs/lidar.cpp **** static bool gStart_Byte_Received = false;
  36:Core/Src/devs/lidar.cpp **** 
  37:Core/Src/devs/lidar.cpp **** void LIDAR_Init()
  38:Core/Src/devs/lidar.cpp **** {
  39:Core/Src/devs/lidar.cpp ****         HAL_UART_Receive_DMA(&huart3, &gRx_Data, 1);
  40:Core/Src/devs/lidar.cpp **** }
  41:Core/Src/devs/lidar.cpp **** 
  42:Core/Src/devs/lidar.cpp **** uint16_t LIDAR_Read()
  43:Core/Src/devs/lidar.cpp **** {
  44:Core/Src/devs/lidar.cpp ****         return gLidar_Data.lookup();
  45:Core/Src/devs/lidar.cpp **** }
  46:Core/Src/devs/lidar.cpp **** 
  47:Core/Src/devs/lidar.cpp **** bool LIDAR_IsEmpty()
  48:Core/Src/devs/lidar.cpp **** {
  49:Core/Src/devs/lidar.cpp ****         return (gLidar_Data.length() == 0);
  50:Core/Src/devs/lidar.cpp **** }
  51:Core/Src/devs/lidar.cpp **** 
  52:Core/Src/devs/lidar.cpp **** void LIDAR_UART3_RxCpltCallback()
  53:Core/Src/devs/lidar.cpp **** {
  54:Core/Src/devs/lidar.cpp ****         if (!gStart_Byte_Received) {
  55:Core/Src/devs/lidar.cpp ****                 if (gRx_Data == START_BYTE) {
  56:Core/Src/devs/lidar.cpp ****                         gStart_Byte_Received = true;
  57:Core/Src/devs/lidar.cpp ****                 }
  58:Core/Src/devs/lidar.cpp ****         }
  59:Core/Src/devs/lidar.cpp ****         else {
  60:Core/Src/devs/lidar.cpp ****                 gLidar_Bytes.insert(gRx_Data);
  61:Core/Src/devs/lidar.cpp ****                 ++gNum_Data_Received;
  62:Core/Src/devs/lidar.cpp ****                 // If required number of data is received initiate new data;
  63:Core/Src/devs/lidar.cpp ****                 if (gNum_Data_Received == NUM_DATA) {
  64:Core/Src/devs/lidar.cpp ****                         gNum_Data_Received = 0;
  65:Core/Src/devs/lidar.cpp ****                         gStart_Byte_Received = false;
  66:Core/Src/devs/lidar.cpp ****                         // For LIDAR
  67:Core/Src/devs/lidar.cpp ****                         gDistance = gLidar_Bytes.lookup() << 8;
  68:Core/Src/devs/lidar.cpp ****                         gDistance |= gLidar_Bytes.lookup();
  69:Core/Src/devs/lidar.cpp ****                         if (gDistance) {
  70:Core/Src/devs/lidar.cpp ****                                 gLidar_Data.insert(gDistance);
  71:Core/Src/devs/lidar.cpp ****                         }
  72:Core/Src/devs/lidar.cpp ****                 }
  73:Core/Src/devs/lidar.cpp ****         }
  74:Core/Src/devs/lidar.cpp **** }
  74              		.loc 2 74 0
  75              		.cfi_startproc
  76              		@ args = 0, pretend = 0, frame = 0
  77              		@ frame_needed = 0, uses_anonymous_args = 0
  78              	.LVL2:
  79 0000 0128     		cmp	r0, #1
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 4


  80 0002 00D0     		beq	.L9
  81 0004 7047     		bx	lr
  82              	.L9:
  83              		.loc 2 74 0 is_stmt 0 discriminator 1
  84 0006 38B5     		push	{r3, r4, r5, lr}
  85              	.LCFI0:
  86              		.cfi_def_cfa_offset 16
  87              		.cfi_offset 3, -16
  88              		.cfi_offset 4, -12
  89              		.cfi_offset 5, -8
  90              		.cfi_offset 14, -4
  91              		.loc 2 74 0 is_stmt 1 discriminator 1
  92 0008 4FF6FF73 		movw	r3, #65535
  93 000c 9942     		cmp	r1, r3
  94 000e 00D0     		beq	.L10
  95              	.LVL3:
  96              	.L3:
  97              		.loc 2 74 0 is_stmt 0
  98 0010 38BD     		pop	{r3, r4, r5, pc}
  99              	.LVL4:
 100              	.L10:
 101              	.LBB26:
 102              	.LBB27:
 103              	.LBB28:
  18:Core/Inc/utils/queue.h ****         Queue(Queue &&) = default;
 104              		.loc 1 18 0 is_stmt 1
 105 0012 0948     		ldr	r0, .L11
 106              	.LVL5:
 107 0014 0024     		movs	r4, #0
 108 0016 0460     		str	r4, [r0]
 109 0018 4460     		str	r4, [r0, #4]
 110 001a 8460     		str	r4, [r0, #8]
 111              	.LVL6:
 112              	.LBE28:
 113              	.LBE27:
 114              	.LBE26:
  30:Core/Src/devs/lidar.cpp **** static uint8_t gNum_Data_Received = 0;
 115              		.loc 2 30 0
 116 001c 074D     		ldr	r5, .L11+4
 117 001e 2A46     		mov	r2, r5
 118 0020 0749     		ldr	r1, .L11+8
 119              	.LVL7:
 120 0022 FFF7FEFF 		bl	__aeabi_atexit
 121              	.LVL8:
 122              	.LBB29:
 123              	.LBB30:
 124              	.LBB31:
  18:Core/Inc/utils/queue.h ****         Queue(Queue &&) = default;
 125              		.loc 1 18 0
 126 0026 0748     		ldr	r0, .L11+12
 127 0028 0460     		str	r4, [r0]
 128 002a 4460     		str	r4, [r0, #4]
 129 002c 8460     		str	r4, [r0, #8]
 130              	.LVL9:
 131              	.LBE31:
 132              	.LBE30:
 133              	.LBE29:
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 5


  32:Core/Src/devs/lidar.cpp **** static uint16_t gDistance;
 134              		.loc 2 32 0
 135 002e 2A46     		mov	r2, r5
 136 0030 0549     		ldr	r1, .L11+16
 137 0032 FFF7FEFF 		bl	__aeabi_atexit
 138              	.LVL10:
 139              		.loc 2 74 0
 140 0036 EBE7     		b	.L3
 141              	.L12:
 142              		.align	2
 143              	.L11:
 144 0038 00000000 		.word	.LANCHOR0
 145 003c 00000000 		.word	__dso_handle
 146 0040 00000000 		.word	_ZN5QueueIhLj2EED1Ev
 147 0044 00000000 		.word	.LANCHOR1
 148 0048 00000000 		.word	_ZN5QueueItLj2EED1Ev
 149              		.cfi_endproc
 150              	.LFE144:
 152              		.section	.text._Z10LIDAR_Initv,"ax",%progbits
 153              		.align	1
 154              		.global	_Z10LIDAR_Initv
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 158              		.fpu fpv4-sp-d16
 160              	_Z10LIDAR_Initv:
 161              	.LFB129:
  38:Core/Src/devs/lidar.cpp ****         HAL_UART_Receive_DMA(&huart3, &gRx_Data, 1);
 162              		.loc 2 38 0
 163              		.cfi_startproc
 164              		@ args = 0, pretend = 0, frame = 0
 165              		@ frame_needed = 0, uses_anonymous_args = 0
 166 0000 08B5     		push	{r3, lr}
 167              	.LCFI1:
 168              		.cfi_def_cfa_offset 8
 169              		.cfi_offset 3, -8
 170              		.cfi_offset 14, -4
  39:Core/Src/devs/lidar.cpp **** }
 171              		.loc 2 39 0
 172 0002 0122     		movs	r2, #1
 173 0004 0249     		ldr	r1, .L15
 174 0006 0348     		ldr	r0, .L15+4
 175 0008 FFF7FEFF 		bl	HAL_UART_Receive_DMA
 176              	.LVL11:
  40:Core/Src/devs/lidar.cpp **** 
 177              		.loc 2 40 0
 178 000c 08BD     		pop	{r3, pc}
 179              	.L16:
 180 000e 00BF     		.align	2
 181              	.L15:
 182 0010 00000000 		.word	.LANCHOR2
 183 0014 00000000 		.word	huart3
 184              		.cfi_endproc
 185              	.LFE129:
 187              		.section	.text._Z10LIDAR_Readv,"ax",%progbits
 188              		.align	1
 189              		.global	_Z10LIDAR_Readv
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 6


 190              		.syntax unified
 191              		.thumb
 192              		.thumb_func
 193              		.fpu fpv4-sp-d16
 195              	_Z10LIDAR_Readv:
 196              	.LFB130:
  43:Core/Src/devs/lidar.cpp ****         return gLidar_Data.lookup();
 197              		.loc 2 43 0
 198              		.cfi_startproc
 199              		@ args = 0, pretend = 0, frame = 0
 200              		@ frame_needed = 0, uses_anonymous_args = 0
 201              		@ link register save eliminated.
 202              	.LVL12:
 203              	.LBB32:
 204              	.LBB33:
 205              	.LBB34:
  24:Core/Inc/utils/queue.h **** 
  25:Core/Inc/utils/queue.h ****         void insert(T elem) {
  26:Core/Inc/utils/queue.h ****                 ++curr_size_;
  27:Core/Inc/utils/queue.h ****                 queue_[head_++] = elem;
  28:Core/Inc/utils/queue.h ****                 head_ %= q_size;
  29:Core/Inc/utils/queue.h ****         }
  30:Core/Inc/utils/queue.h **** 
  31:Core/Inc/utils/queue.h ****         T lookup() {
  32:Core/Inc/utils/queue.h ****                 if( curr_size_ ) {
 206              		.loc 1 32 0
 207 0000 084B     		ldr	r3, .L20
 208 0002 9B68     		ldr	r3, [r3, #8]
 209 0004 63B1     		cbz	r3, .L19
 210              	.LBB35:
  33:Core/Inc/utils/queue.h ****                         --curr_size_;
 211              		.loc 1 33 0
 212 0006 074A     		ldr	r2, .L20
 213 0008 013B     		subs	r3, r3, #1
 214 000a 9360     		str	r3, [r2, #8]
  34:Core/Inc/utils/queue.h ****                         T elem = queue_[tail_++];
 215              		.loc 1 34 0
 216 000c 5368     		ldr	r3, [r2, #4]
 217 000e 591C     		adds	r1, r3, #1
 218 0010 0433     		adds	r3, r3, #4
 219 0012 02EB4303 		add	r3, r2, r3, lsl #1
 220 0016 9888     		ldrh	r0, [r3, #4]
 221              	.LVL13:
  35:Core/Inc/utils/queue.h ****                         tail_ %= q_size;
 222              		.loc 1 35 0
 223 0018 01F00101 		and	r1, r1, #1
 224 001c 5160     		str	r1, [r2, #4]
 225 001e 7047     		bx	lr
 226              	.LVL14:
 227              	.L19:
 228              	.LBE35:
 229              	.LBE34:
  36:Core/Inc/utils/queue.h ****                         return elem;
  37:Core/Inc/utils/queue.h ****                 }
  38:Core/Inc/utils/queue.h ****                 return 0;
 230              		.loc 1 38 0
 231 0020 0020     		movs	r0, #0
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 7


 232              	.LVL15:
 233              	.LBE33:
 234              	.LBE32:
  45:Core/Src/devs/lidar.cpp **** 
 235              		.loc 2 45 0
 236 0022 7047     		bx	lr
 237              	.L21:
 238              		.align	2
 239              	.L20:
 240 0024 00000000 		.word	.LANCHOR1
 241              		.cfi_endproc
 242              	.LFE130:
 244              		.section	.text._Z13LIDAR_IsEmptyv,"ax",%progbits
 245              		.align	1
 246              		.global	_Z13LIDAR_IsEmptyv
 247              		.syntax unified
 248              		.thumb
 249              		.thumb_func
 250              		.fpu fpv4-sp-d16
 252              	_Z13LIDAR_IsEmptyv:
 253              	.LFB131:
  48:Core/Src/devs/lidar.cpp ****         return (gLidar_Data.length() == 0);
 254              		.loc 2 48 0
 255              		.cfi_startproc
 256              		@ args = 0, pretend = 0, frame = 0
 257              		@ frame_needed = 0, uses_anonymous_args = 0
 258              		@ link register save eliminated.
 259              	.LVL16:
 260              	.LBB36:
 261              	.LBB37:
  39:Core/Inc/utils/queue.h ****         }
  40:Core/Inc/utils/queue.h **** 
  41:Core/Inc/utils/queue.h ****         uint32_t length() const { return curr_size_; }
 262              		.loc 1 41 0
 263 0000 024B     		ldr	r3, .L23
 264 0002 9868     		ldr	r0, [r3, #8]
 265              	.LVL17:
 266              	.LBE37:
 267              	.LBE36:
  50:Core/Src/devs/lidar.cpp **** 
 268              		.loc 2 50 0
 269 0004 B0FA80F0 		clz	r0, r0
 270 0008 4009     		lsrs	r0, r0, #5
 271 000a 7047     		bx	lr
 272              	.L24:
 273              		.align	2
 274              	.L23:
 275 000c 00000000 		.word	.LANCHOR1
 276              		.cfi_endproc
 277              	.LFE131:
 279              		.section	.text._Z26LIDAR_UART3_RxCpltCallbackv,"ax",%progbits
 280              		.align	1
 281              		.global	_Z26LIDAR_UART3_RxCpltCallbackv
 282              		.syntax unified
 283              		.thumb
 284              		.thumb_func
 285              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 8


 287              	_Z26LIDAR_UART3_RxCpltCallbackv:
 288              	.LFB132:
  53:Core/Src/devs/lidar.cpp ****         if (!gStart_Byte_Received) {
 289              		.loc 2 53 0
 290              		.cfi_startproc
 291              		@ args = 0, pretend = 0, frame = 0
 292              		@ frame_needed = 0, uses_anonymous_args = 0
 293              		@ link register save eliminated.
  54:Core/Src/devs/lidar.cpp ****                 if (gRx_Data == START_BYTE) {
 294              		.loc 2 54 0
 295 0000 294B     		ldr	r3, .L37
 296 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 297 0004 43B9     		cbnz	r3, .L26
  55:Core/Src/devs/lidar.cpp ****                         gStart_Byte_Received = true;
 298              		.loc 2 55 0
 299 0006 294B     		ldr	r3, .L37+4
 300 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 301 000a A52B     		cmp	r3, #165
 302 000c 00D0     		beq	.L35
 303 000e 7047     		bx	lr
 304              	.L35:
  56:Core/Src/devs/lidar.cpp ****                 }
 305              		.loc 2 56 0
 306 0010 254B     		ldr	r3, .L37
 307 0012 0122     		movs	r2, #1
 308 0014 1A70     		strb	r2, [r3]
 309 0016 7047     		bx	lr
 310              	.L26:
  53:Core/Src/devs/lidar.cpp ****         if (!gStart_Byte_Received) {
 311              		.loc 2 53 0
 312 0018 30B4     		push	{r4, r5}
 313              	.LCFI2:
 314              		.cfi_def_cfa_offset 8
 315              		.cfi_offset 4, -8
 316              		.cfi_offset 5, -4
  60:Core/Src/devs/lidar.cpp ****                 ++gNum_Data_Received;
 317              		.loc 2 60 0
 318 001a 244B     		ldr	r3, .L37+4
 319 001c 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 320              	.LVL18:
 321              	.LBB38:
 322              	.LBB39:
  26:Core/Inc/utils/queue.h ****                 queue_[head_++] = elem;
 323              		.loc 1 26 0
 324 001e 244B     		ldr	r3, .L37+8
 325 0020 9C68     		ldr	r4, [r3, #8]
 326 0022 601C     		adds	r0, r4, #1
 327 0024 9860     		str	r0, [r3, #8]
  27:Core/Inc/utils/queue.h ****                 head_ %= q_size;
 328              		.loc 1 27 0
 329 0026 1A68     		ldr	r2, [r3]
 330 0028 511C     		adds	r1, r2, #1
 331 002a 1A44     		add	r2, r2, r3
 332 002c 1573     		strb	r5, [r2, #12]
  28:Core/Inc/utils/queue.h ****         }
 333              		.loc 1 28 0
 334 002e 01F00101 		and	r1, r1, #1
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 9


 335 0032 1960     		str	r1, [r3]
 336              	.LVL19:
 337              	.LBE39:
 338              	.LBE38:
  61:Core/Src/devs/lidar.cpp ****                 // If required number of data is received initiate new data;
 339              		.loc 2 61 0
 340 0034 1F4A     		ldr	r2, .L37+12
 341 0036 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 342 0038 0133     		adds	r3, r3, #1
 343 003a DBB2     		uxtb	r3, r3
 344 003c 1370     		strb	r3, [r2]
  63:Core/Src/devs/lidar.cpp ****                         gNum_Data_Received = 0;
 345              		.loc 2 63 0
 346 003e 022B     		cmp	r3, #2
 347 0040 01D0     		beq	.L36
 348              	.L25:
 349              		.loc 2 74 0
 350 0042 30BC     		pop	{r4, r5}
 351              	.LCFI3:
 352              		.cfi_remember_state
 353              		.cfi_restore 5
 354              		.cfi_restore 4
 355              		.cfi_def_cfa_offset 0
 356 0044 7047     		bx	lr
 357              	.L36:
 358              	.LCFI4:
 359              		.cfi_restore_state
  64:Core/Src/devs/lidar.cpp ****                         gStart_Byte_Received = false;
 360              		.loc 2 64 0
 361 0046 0023     		movs	r3, #0
 362 0048 1370     		strb	r3, [r2]
  65:Core/Src/devs/lidar.cpp ****                         // For LIDAR
 363              		.loc 2 65 0
 364 004a 174A     		ldr	r2, .L37
 365 004c 1370     		strb	r3, [r2]
 366              	.LVL20:
 367              	.LBB40:
 368              	.LBB41:
 369              	.LBB42:
  32:Core/Inc/utils/queue.h ****                         --curr_size_;
 370              		.loc 1 32 0
 371 004e 30B3     		cbz	r0, .L30
 372              	.LBB43:
  33:Core/Inc/utils/queue.h ****                         T elem = queue_[tail_++];
 373              		.loc 1 33 0
 374 0050 174A     		ldr	r2, .L37+8
 375 0052 9460     		str	r4, [r2, #8]
  34:Core/Inc/utils/queue.h ****                         tail_ %= q_size;
 376              		.loc 1 34 0
 377 0054 5368     		ldr	r3, [r2, #4]
 378 0056 591C     		adds	r1, r3, #1
 379 0058 1344     		add	r3, r3, r2
 380 005a 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 381              	.LVL21:
  35:Core/Inc/utils/queue.h ****                         return elem;
 382              		.loc 1 35 0
 383 005c 01F00101 		and	r1, r1, #1
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 10


 384 0060 5160     		str	r1, [r2, #4]
 385              	.LVL22:
 386              	.L28:
 387              	.LBE43:
 388              	.LBE42:
 389              	.LBE41:
 390              	.LBE40:
  67:Core/Src/devs/lidar.cpp ****                         gDistance |= gLidar_Bytes.lookup();
 391              		.loc 2 67 0
 392 0062 1B02     		lsls	r3, r3, #8
 393              	.LVL23:
 394              	.LBB45:
 395              	.LBB46:
 396              	.LBB47:
  32:Core/Inc/utils/queue.h ****                         --curr_size_;
 397              		.loc 1 32 0
 398 0064 124A     		ldr	r2, .L37+8
 399 0066 9268     		ldr	r2, [r2, #8]
 400 0068 DAB1     		cbz	r2, .L31
 401              	.LBB48:
  33:Core/Inc/utils/queue.h ****                         T elem = queue_[tail_++];
 402              		.loc 1 33 0
 403 006a 1149     		ldr	r1, .L37+8
 404 006c 013A     		subs	r2, r2, #1
 405 006e 8A60     		str	r2, [r1, #8]
  34:Core/Inc/utils/queue.h ****                         tail_ %= q_size;
 406              		.loc 1 34 0
 407 0070 4A68     		ldr	r2, [r1, #4]
 408 0072 501C     		adds	r0, r2, #1
 409 0074 0A44     		add	r2, r2, r1
 410 0076 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
 411              	.LVL24:
  35:Core/Inc/utils/queue.h ****                         return elem;
 412              		.loc 1 35 0
 413 0078 00F00100 		and	r0, r0, #1
 414 007c 4860     		str	r0, [r1, #4]
 415              	.LVL25:
 416              	.L29:
 417              	.LBE48:
 418              	.LBE47:
 419              	.LBE46:
 420              	.LBE45:
  69:Core/Src/devs/lidar.cpp ****                                 gLidar_Data.insert(gDistance);
 421              		.loc 2 69 0
 422 007e 1343     		orrs	r3, r3, r2
 423 0080 DFD0     		beq	.L25
 424              	.LVL26:
 425              	.LBB50:
 426              	.LBB51:
  26:Core/Inc/utils/queue.h ****                 queue_[head_++] = elem;
 427              		.loc 1 26 0
 428 0082 0D49     		ldr	r1, .L37+16
 429 0084 8A68     		ldr	r2, [r1, #8]
 430 0086 0132     		adds	r2, r2, #1
 431 0088 8A60     		str	r2, [r1, #8]
  27:Core/Inc/utils/queue.h ****                 head_ %= q_size;
 432              		.loc 1 27 0
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 11


 433 008a 0A68     		ldr	r2, [r1]
 434 008c 501C     		adds	r0, r2, #1
 435 008e 0432     		adds	r2, r2, #4
 436 0090 01EB4202 		add	r2, r1, r2, lsl #1
 437 0094 9380     		strh	r3, [r2, #4]	@ movhi
  28:Core/Inc/utils/queue.h ****         }
 438              		.loc 1 28 0
 439 0096 00F00100 		and	r0, r0, #1
 440 009a 0860     		str	r0, [r1]
 441              	.LBE51:
 442              	.LBE50:
 443              		.loc 2 74 0
 444 009c D1E7     		b	.L25
 445              	.LVL27:
 446              	.L30:
 447              	.LBB52:
 448              	.LBB44:
  38:Core/Inc/utils/queue.h ****         }
 449              		.loc 1 38 0
 450 009e 0023     		movs	r3, #0
 451 00a0 DFE7     		b	.L28
 452              	.LVL28:
 453              	.L31:
 454              	.LBE44:
 455              	.LBE52:
 456              	.LBB53:
 457              	.LBB49:
 458 00a2 0022     		movs	r2, #0
 459 00a4 EBE7     		b	.L29
 460              	.L38:
 461 00a6 00BF     		.align	2
 462              	.L37:
 463 00a8 00000000 		.word	.LANCHOR3
 464 00ac 00000000 		.word	.LANCHOR2
 465 00b0 00000000 		.word	.LANCHOR0
 466 00b4 00000000 		.word	.LANCHOR4
 467 00b8 00000000 		.word	.LANCHOR1
 468              	.LBE49:
 469              	.LBE53:
 470              		.cfi_endproc
 471              	.LFE132:
 473              		.section	.text._GLOBAL__sub_I__Z10LIDAR_Initv,"ax",%progbits
 474              		.align	1
 475              		.syntax unified
 476              		.thumb
 477              		.thumb_func
 478              		.fpu fpv4-sp-d16
 480              	_GLOBAL__sub_I__Z10LIDAR_Initv:
 481              	.LFB151:
 482              		.loc 2 74 0
 483              		.cfi_startproc
 484              		@ args = 0, pretend = 0, frame = 0
 485              		@ frame_needed = 0, uses_anonymous_args = 0
 486 0000 08B5     		push	{r3, lr}
 487              	.LCFI5:
 488              		.cfi_def_cfa_offset 8
 489              		.cfi_offset 3, -8
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 12


 490              		.cfi_offset 14, -4
 491              		.loc 2 74 0
 492 0002 4FF6FF71 		movw	r1, #65535
 493 0006 0120     		movs	r0, #1
 494 0008 FFF7FEFF 		bl	_Z41__static_initialization_and_destruction_0ii
 495              	.LVL29:
 496 000c 08BD     		pop	{r3, pc}
 497              		.cfi_endproc
 498              	.LFE151:
 500              		.section	.init_array,"aw",%init_array
 501              		.align	2
 502 0000 00000000 		.word	_GLOBAL__sub_I__Z10LIDAR_Initv(target1)
 503              		.section	.bss._ZL11gLidar_Data,"aw",%nobits
 504              		.align	2
 505              		.set	.LANCHOR1,. + 0
 508              	_ZL11gLidar_Data:
 509 0000 00000000 		.space	16
 509      00000000 
 509      00000000 
 509      00000000 
 510              		.section	.bss._ZL12gLidar_Bytes,"aw",%nobits
 511              		.align	2
 512              		.set	.LANCHOR0,. + 0
 515              	_ZL12gLidar_Bytes:
 516 0000 00000000 		.space	16
 516      00000000 
 516      00000000 
 516      00000000 
 517              		.section	.bss._ZL18gNum_Data_Received,"aw",%nobits
 518              		.set	.LANCHOR4,. + 0
 521              	_ZL18gNum_Data_Received:
 522 0000 00       		.space	1
 523              		.section	.bss._ZL20gStart_Byte_Received,"aw",%nobits
 524              		.set	.LANCHOR3,. + 0
 527              	_ZL20gStart_Byte_Received:
 528 0000 00       		.space	1
 529              		.section	.bss._ZL8gRx_Data,"aw",%nobits
 530              		.set	.LANCHOR2,. + 0
 533              	_ZL8gRx_Data:
 534 0000 00       		.space	1
 535              		.text
 536              	.Letext0:
 537              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 538              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 539              		.file 5 "C:/Users/Prashant/STM32Cube/Repository/STM32Cube_FW_F4_V1.21.0/Drivers/CMSIS/Include/core
 540              		.file 6 "C:/Users/Prashant/STM32Cube/Repository/STM32Cube_FW_F4_V1.21.0/Drivers/CMSIS/Device/ST/ST
 541              		.file 7 "C:/Users/Prashant/STM32Cube/Repository/STM32Cube_FW_F4_V1.21.0/Drivers/CMSIS/Device/ST/ST
 542              		.file 8 "C:/Users/Prashant/STM32Cube/Repository/STM32Cube_FW_F4_V1.21.0/Drivers/CMSIS/Device/ST/ST
 543              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 544              		.file 10 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 545              		.file 11 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\lib\\gcc\\arm-none-eab
 546              		.file 12 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 547              		.file 13 "C:/Users/Prashant/STM32Cube/Repository/STM32Cube_FW_F4_V1.21.0/Drivers/STM32F4xx_HAL_Dri
 548              		.file 14 "C:/Users/Prashant/STM32Cube/Repository/STM32Cube_FW_F4_V1.21.0/Drivers/STM32F4xx_HAL_Dri
 549              		.file 15 "C:/Users/Prashant/STM32Cube/Repository/STM32Cube_FW_F4_V1.21.0/Drivers/STM32F4xx_HAL_Dri
 550              		.file 16 "C:/Users/Prashant/STM32Cube/Repository/STM32Cube_FW_F4_V1.21.0/Drivers/STM32F4xx_HAL_Dri
 551              		.file 17 "Core/Inc/periphs/usart.h"
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 13


ARM GAS  C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 lidar.cpp
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:18     .text._ZN5QueueIhLj2EED2Ev:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:25     .text._ZN5QueueIhLj2EED2Ev:00000000 _ZN5QueueIhLj2EED2Ev
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:25     .text._ZN5QueueIhLj2EED2Ev:00000000 _ZN5QueueIhLj2EED1Ev
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:42     .text._ZN5QueueItLj2EED2Ev:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:49     .text._ZN5QueueItLj2EED2Ev:00000000 _ZN5QueueItLj2EED2Ev
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:49     .text._ZN5QueueItLj2EED2Ev:00000000 _ZN5QueueItLj2EED1Ev
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:65     .text._Z41__static_initialization_and_destruction_0ii:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:71     .text._Z41__static_initialization_and_destruction_0ii:00000000 _Z41__static_initialization_and_destruction_0ii
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:144    .text._Z41__static_initialization_and_destruction_0ii:00000038 $d
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:153    .text._Z10LIDAR_Initv:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:160    .text._Z10LIDAR_Initv:00000000 _Z10LIDAR_Initv
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:182    .text._Z10LIDAR_Initv:00000010 $d
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:188    .text._Z10LIDAR_Readv:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:195    .text._Z10LIDAR_Readv:00000000 _Z10LIDAR_Readv
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:240    .text._Z10LIDAR_Readv:00000024 $d
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:245    .text._Z13LIDAR_IsEmptyv:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:252    .text._Z13LIDAR_IsEmptyv:00000000 _Z13LIDAR_IsEmptyv
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:275    .text._Z13LIDAR_IsEmptyv:0000000c $d
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:280    .text._Z26LIDAR_UART3_RxCpltCallbackv:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:287    .text._Z26LIDAR_UART3_RxCpltCallbackv:00000000 _Z26LIDAR_UART3_RxCpltCallbackv
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:463    .text._Z26LIDAR_UART3_RxCpltCallbackv:000000a8 $d
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:474    .text._GLOBAL__sub_I__Z10LIDAR_Initv:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:480    .text._GLOBAL__sub_I__Z10LIDAR_Initv:00000000 _GLOBAL__sub_I__Z10LIDAR_Initv
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:501    .init_array:00000000 $d
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:504    .bss._ZL11gLidar_Data:00000000 $d
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:508    .bss._ZL11gLidar_Data:00000000 _ZL11gLidar_Data
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:511    .bss._ZL12gLidar_Bytes:00000000 $d
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:515    .bss._ZL12gLidar_Bytes:00000000 _ZL12gLidar_Bytes
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:521    .bss._ZL18gNum_Data_Received:00000000 _ZL18gNum_Data_Received
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:522    .bss._ZL18gNum_Data_Received:00000000 $d
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:527    .bss._ZL20gStart_Byte_Received:00000000 _ZL20gStart_Byte_Received
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:528    .bss._ZL20gStart_Byte_Received:00000000 $d
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:533    .bss._ZL8gRx_Data:00000000 _ZL8gRx_Data
C:\Users\Prashant\AppData\Local\Temp\ccL6Uwc9.s:534    .bss._ZL8gRx_Data:00000000 $d
                           .group:00000000 _ZN5QueueIhLj2EED5Ev
                           .group:00000000 _ZN5QueueItLj2EED5Ev

UNDEFINED SYMBOLS
__aeabi_atexit
__dso_handle
HAL_UART_Receive_DMA
huart3
