
/**
  ******************************************************************************
  * @file           : main.c
  * @brief          : Main program body
  ******************************************************************************
  ** This notice applies to any and all portions of this file
  * that are not between comment pairs USER CODE BEGIN and
  * USER CODE END. Other portions of this file, whether 
  * inserted by the user or by software development tools
  * are owned by their respective copyright owners.
  *
  * COPYRIGHT(c) 2018 STMicroelectronics
  *
  * Redistribution and use in source and binary forms, with or without modification,
  * are permitted provided that the following conditions are met:
  *   1. Redistributions of source code must retain the above copyright notice,
  *      this list of conditions and the following disclaimer.
  *   2. Redistributions in binary form must reproduce the above copyright notice,
  *      this list of conditions and the following disclaimer in the documentation
  *      and/or other materials provided with the distribution.
  *   3. Neither the name of STMicroelectronics nor the names of its contributors
  *      may be used to endorse or promote products derived from this software
  *      without specific prior written permission.
  *
  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  *
  ******************************************************************************
  */
/* Includes ------------------------------------------------------------------*/
#include "main.h"
#include "stm32f4xx_hal.h"
#include "adc.h"
#include "tim.h"
#include "usart.h"
#include "gpio.h"
#include "dma.h"


/* USER CODE BEGIN Includes */
#include "robo_init.h"
#include "robot.h"
#include "pid.h"
#include <stdlib.h>
#include "drive.h"
//#include "Navigator.h"

/* USER CODE END Includes */

/* Private variables ---------------------------------------------------------*/


/* USER CODE BEGIN PV */
extern double velocity[3];
extern float robotx, roboty, theta;
extern int32_t counts[4] ;
extern struct Str_pid pid[4];

extern struct Str_pid_distance pid_dis_1;
extern struct Str_pid_distance pid_dis_2;
extern struct Str_pid_distance pid_dis_3;
extern uint16_t   update_tick;
extern struct encoder e[4];
float go[460][2] = {{-1225, 1500},
					{10 , 149.248},
					{10 , 60.752},
					{10 , 45.8809},
					{10 , 38.0579},
					{10 , 32.9788},
					{10 , 29.3127},
					{10 , 26.4902},
					{10 , 24.2192},
					{10 , 22.333},
					{10 , 20.7273},
					{10 , 19.3347},
					{10 , 18.1077},
					{10 , 17.0127},
					{10 , 16.0254},
					{10 , 15.1267},
					{10 , 14.302},
					{10 , 13.54},
					{10 , 12.832},
					{10 , 12.1702},
					{10 , 11.5486},
					{10 , 10.9624},
					{10 , 10.407},
					{10 , 9.87939},
					{10 , 9.37598},
					{10 , 8.89429},
					{10 , 8.43237},
					{10 , 7.98779},
					{10 , 7.55908},
					{10 , 7.14478},
					{10 , 6.74341},
					{10 , 6.35327},
					{10 , 5.97437},
					{10 , 5.60498},
					{10 , 5.24414},
					{10 , 4.89111},
					{10 , 4.54565},
					{10 , 4.20654},
					{10 , 3.87305},
					{10 , 3.54541},
					{10 , 3.22192},
					{10 , 2.90308},
					{10 , 2.58765},
					{10 , 2.27588},
					{10 , 1.9668},
					{10 , 1.66016},
					{10 , 1.35571},
					{10 , 1.05249},
					{10 , 0.750977},
					{10 , 0.450439},
					{10.4712 , 10},
					{10.4712 , 10},
					{10.4667 , 10},
					{10.4574 , 10},
					{10.4436 , 10},
					{10.4254 , 10},
					{10.4023 , 10},
					{10.3749 , 10},
					{10.3429 , 10},
					{10.3063 , 10},
					{10.2651 , 10},
					{10.2196 , 10},
					{10.1696 , 10},
					{10.115 , 10},
					{10.0559 , 10},
					{9.99268 , 10},
					{9.9248 , 10},
					{9.85266 , 10},
					{9.77625 , 10},
					{9.69556 , 10},
					{9.61053 , 10},
					{9.5213 , 10},
					{9.42792 , 10},
					{9.33044 , 10},
					{9.22882 , 10},
					{9.12317 , 10},
					{9.01349 , 10},
					{8.8999 , 10},
					{8.78241 , 10},
					{8.66101 , 10},
					{8.53583 , 10},
					{8.40692 , 10},
					{8.27435 , 10},
					{8.13806 , 10},
					{7.99835 , 10},
					{7.85498 , 10},
					{7.70825 , 10},
					{7.55811 , 10},
					{7.40466 , 10},
					{7.24799 , 10},
					{7.08807 , 10},
					{6.92511 , 10},
					{6.75909 , 10},
					{6.59015 , 10},
					{6.41821 , 10},
					{6.24353 , 10},
					{6.0661 , 10},
					{5.88605 , 10},
					{5.70331 , 10},
					{5.51819 , 10},
					{5.33057 , 10},
					{5.14062 , 10},
					{4.94849 , 10},
					{4.75409 , 10},
					{4.55762 , 10},
					{4.35919 , 10},
					{4.15887 , 10},
					{3.95667 , 10},
					{3.75275 , 10},
					{3.54718 , 10},
					{3.34009 , 10},
					{3.13147 , 10},
					{2.92157 , 10},
					{2.71027 , 10},
					{2.49786 , 10},
					{2.28436 , 10},
					{2.06982 , 10},
					{1.85443 , 10},
					{1.63812 , 10},
					{1.4212 , 10},
					{1.20355 , 10},
					{0.985535 , 10},
					{0.766907 , 10},
					{0.548035 , 10},
					{0.328918 , 10},
					{0.10968 , 10},
					{-0.10968 , 10},
					{-0.328918 , 10},
					{-0.548035 , 10},
					{-0.766907 , 10},
					{-0.985535 , 10},
					{-1.20355 , 10},
					{-1.4212 , 10},
					{-1.63812 , 10},
					{-1.85443 , 10},
					{-2.06982 , 10},
					{-2.28436 , 10},
					{-2.49786 , 10},
					{-2.71027 , 10},
					{-2.92157 , 10},
					{-3.13147 , 10},
					{-3.34009 , 10},
					{-3.54718 , 10},
					{-3.75275 , 10},
					{-3.95667 , 10},
					{-4.15887 , 10},
					{-4.35919 , 10},
					{-4.55762 , 10},
					{-4.75409 , 10},
					{-4.94849 , 10},
					{-5.14062 , 10},
					{-5.33057 , 10},
					{-5.51819 , 10},
					{-5.70331 , 10},
					{-5.88605 , 10},
					{-6.0661 , 10},
					{-6.24353 , 10},
					{-6.41821 , 10},
					{-6.59015 , 10},
					{-6.75909 , 10},
					{-6.92511 , 10},
					{-7.08807 , 10},
					{-7.24799 , 10},
					{-7.40466 , 10},
					{-7.55811 , 10},
					{-7.70825 , 10},
					{-7.85498 , 10},
					{-7.99835 , 10},
					{-8.13806 , 10},
					{-8.27435 , 10},
					{-8.40692 , 10},
					{-8.53583 , 10},
					{-8.66101 , 10},
					{-8.78241 , 10},
					{-8.8999 , 10},
					{-9.01349 , 10},
					{-9.12317 , 10},
					{-9.22882 , 10},
					{-9.33044 , 10},
					{-9.42792 , 10},
					{-9.5213 , 10},
					{-9.61053 , 10},
					{-9.69556 , 10},
					{-9.77625 , 10},
					{-9.85266 , 10},
					{-9.9248 , 10},
					{-9.99268 , 10},
					{-10.0559 , 10},
					{-10.115 , 10},
					{-10.1696 , 10},
					{-10.2196 , 10},
					{-10.2651 , 10},
					{-10.3063 , 10},
					{-10.3429 , 10},
					{-10.3749 , 10},
					{-10.4023 , 10},
					{-10.4254 , 10},
					{-10.4436 , 10},
					{-10.4574 , 10},
					{-10.4667 , 10},
					{-10.4712 , 10},
					{-10.4712 , 10},
					{-10.4667 , 10},
					{-10.4574 , 10},
					{-10.4436 , 10},
					{-10.4254 , 10},
					{-10.4023 , 10},
					{-10.3749 , 10},
					{-10.3429 , 10},
					{-10.3063 , 10},
					{-10.2651 , 10},
					{-10.2196 , 10},
					{-10.1696 , 10},
					{-10.115 , 10},
					{-10.0559 , 10},
					{-9.99268 , 10},
					{-9.9248 , 10},
					{-9.85266 , 10},
					{-9.77625 , 10},
					{-9.69556 , 10},
					{-9.61047 , 10},
					{-9.52136 , 10},
					{-9.42798 , 10},
					{-9.33044 , 10},
					{-9.22876 , 10},
					{-9.12317 , 10},
					{-9.01355 , 10},
					{-8.8999 , 10},
					{-8.78235 , 10},
					{-8.66101 , 10},
					{-8.53577 , 10},
					{-8.40698 , 10},
					{-8.27429 , 10},
					{-8.13818 , 10},
					{-7.99829 , 10},
					{-7.85498 , 10},
					{-7.70825 , 10},
					{-7.55811 , 10},
					{-7.40466 , 10},
					{-7.24792 , 10},
					{-7.08813 , 10},
					{-6.92517 , 10},
					{-6.75903 , 10},
					{-6.59009 , 10},
					{-6.41833 , 10},
					{-6.24353 , 10},
					{-6.06604 , 10},
					{-5.88599 , 10},
					{-5.70337 , 10},
					{-5.51819 , 10},
					{-5.33057 , 10},
					{-5.14062 , 10},
					{-4.94849 , 10},
					{-4.75403 , 10},
					{-4.55774 , 10},
					{-4.35913 , 10},
					{-4.15881 , 10},
					{-3.95667 , 10},
					{-3.75281 , 10},
					{-3.54724 , 10},
					{-3.33997 , 10},
					{-3.13159 , 10},
					{-2.92151 , 10},
					{-2.71033 , 10},
					{-2.4978 , 10},
					{-2.28442 , 10},
					{-2.06982 , 10},
					{-1.85437 , 10},
					{-1.63806 , 10},
					{-1.42126 , 10},
					{-1.20361 , 10},
					{-0.985474 , 10},
					{-0.766846 , 10},
					{-0.548096 , 10},
					{-0.328979 , 10},
					{-0.109619 , 10},
					{0.109619 , 10},
					{0.328979 , 10},
					{0.548096 , 10},
					{0.766846 , 10},
					{0.985474 , 10},
					{1.20361 , 10},
					{1.42126 , 10},
					{1.63806 , 10},
					{1.85437 , 10},
					{2.06982 , 10},
					{2.28442 , 10},
					{2.4978 , 10},
					{2.71033 , 10},
					{2.92151 , 10},
					{3.13159 , 10},
					{3.33997 , 10},
					{3.54724 , 10},
					{3.75281 , 10},
					{3.95667 , 10},
					{4.15881 , 10},
					{4.35913 , 10},
					{4.55774 , 10},
					{4.75403 , 10},
					{4.94849 , 10},
					{5.14062 , 10},
					{5.33057 , 10},
					{5.51819 , 10},
					{5.70337 , 10},
					{5.88599 , 10},
					{6.06604 , 10},
					{6.24353 , 10},
					{6.41833 , 10},
					{6.59009 , 10},
					{6.75903 , 10},
					{6.92517 , 10},
					{7.08813 , 10},
					{7.24792 , 10},
					{7.40466 , 10},
					{7.55811 , 10},
					{7.70825 , 10},
					{7.85498 , 10},
					{7.99829 , 10},
					{8.13818 , 10},
					{8.27429 , 10},
					{8.40698 , 10},
					{8.53577 , 10},
					{8.66101 , 10},
					{8.78235 , 10},
					{8.8999 , 10},
					{9.01355 , 10},
					{9.12317 , 10},
					{9.22876 , 10},
					{9.33044 , 10},
					{9.42798 , 10},
					{9.52136 , 10},
					{9.61047 , 10},
					{9.69556 , 10},
					{9.77625 , 10},
					{9.85266 , 10},
					{9.9248 , 10},
					{9.99268 , 10},
					{10.0559 , 10},
					{10.115 , 10},
					{10.1696 , 10},
					{10.2196 , 10},
					{10.2651 , 10},
					{10.3063 , 10},
					{10.3429 , 10},
					{10.3749 , 10},
					{10.4023 , 10},
					{10.4254 , 10},
					{10.4436 , 10},
					{10.4574 , 10},
					{10.4667 , 10},
					{0,2250},
					{-10 , 141.067},
					{-10 , 57.9297},
					{-10 , 44.1074},
					{-10 , 36.8955},
					{-10 , 32.25},
					{-10 , 28.9248},
					{-10 , 26.3848},
					{-10 , 24.3584},
					{-10 , 22.6904},
					{-10 , 21.2812},
					{-10 , 20.0713},
					{-10 , 19.0127},
					{-10 , 18.0781},
					{-10 , 17.2422},
					{-10 , 16.4883},
					{-10 , 15.8037},
					{-10 , 15.1777},
					{-10 , 14.5996},
					{-10 , 14.0664},
					{-10 , 13.5703},
					{-10 , 13.1064},
					{-10 , 12.6729},
					{-10 , 12.2646},
					{-10 , 11.8789},
					{-10 , 11.5146},
					{-10 , 11.1689},
					{-10 , 10.8408},
					{-10 , 10.5264},
					{-10 , 10.2285},
					{-10 , 9.94043},
					{-10 , 9.66699},
					{-10 , 9.40234},
					{-10 , 9.14941},
					{-10 , 8.9043},
					{-10 , 8.66895},
					{-10 , 8.44043},
					{-10 , 8.21973},
					{-10 , 8.00684},
					{-10 , 7.7998},
					{-10 , 7.59863},
					{-10 , 7.40332},
					{-10 , 7.21289},
					{-10 , 7.02832},
					{-10 , 6.84766},
					{-10 , 6.67285},
					{-10 , 6.5},
					{-10 , 6.33301},
					{-10 , 6.16797},
					{-10 , 6.00879},
					{-10 , 5.85059},
					{-10 , 5.69727},
					{-10 , 5.5459},
					{-10 , 5.39746},
					{-10 , 5.25293},
					{-10 , 5.10938},
					{-10 , 4.96973},
					{-10 , 4.83105},
					{-10 , 4.69531},
					{-10 , 4.56152},
					{-10 , 4.42969},
					{-10 , 4.29883},
					{-10 , 4.17188},
					{-10 , 4.0459},
					{-10 , 3.91992},
					{-10 , 3.79785},
					{-10 , 3.67578},
					{-10 , 3.55469},
					{-10 , 3.4375},
					{-10 , 3.31836},
					{-10 , 3.20312},
					{-10 , 3.08691},
					{-10 , 2.97363},
					{-10 , 2.86035},
					{-10 , 2.74805},
					{-10 , 2.6377},
					{-10 , 2.52637},
					{-10 , 2.41797},
					{-10 , 2.30957},
					{-10 , 2.20117},
					{-10 , 2.09473},
					{-10 , 1.98828},
					{-10 , 1.88281},
					{-10 , 1.77734},
					{-10 , 1.67285},
					{-10 , 1.56836},
					{-10 , 1.46582},
					{-10 , 1.3623},
					{-10 , 1.25977},
					{-10 , 1.1582},
					{-10 , 1.05566},
					{-10 , 0.954102},
					{-10 , 0.853516},
					{-10 , 0.751953},
					{-10 , 0.651367},
					{-10 , 0.550781},
					{-10 , 0.450195},
					{-10 , 0.350586},
					{-10 , 0.25},
					{-10 , 0.150391},
					{-2000,0},
					{0,0},
					{0,0},
					{0,0},
					{0,0},
					{0,0},};

					
float go_abs[1130][2] = {{500 , 500},
						{510 , 500.05},
						{520 , 500.2},
						{530 , 500.45},
						{540 , 500.8},
						{550 , 501.25},
						{560 , 501.8},
						{570 , 502.451},
						{580 , 503.202},
						{590 , 504.054},
						{600 , 505.006},
						{610 , 506.06},
						{620 , 507.214},
						{630 , 508.47},
						{640 , 509.828},
						{650 , 511.288},
						{660 , 512.85},
						{670 , 514.514},
						{680 , 516.282},
						{690 , 518.152},
						{700 , 520.127},
						{710 , 522.205},
						{720 , 524.388},
						{730 , 526.676},
						{740 , 529.07},
						{750 , 531.569},
						{760 , 534.175},
						{770 , 536.888},
						{780 , 539.709},
						{790 , 542.638},
						{800 , 545.677},
						{810 , 548.825},
						{820 , 552.083},
						{830 , 555.452},
						{840 , 558.934},
						{850 , 562.528},
						{860 , 566.235},
						{870 , 570.057},
						{880 , 573.995},
						{890 , 578.049},
						{900 , 582.22},
						{910 , 586.51},
						{920 , 590.919},
						{930 , 595.448},
						{940 , 600.1},
						{950 , 604.874},
						{960 , 609.773},
						{970 , 614.797},
						{980 , 619.948},
						{990 , 625.227},
						{1000 , 630.637},
						{1010 , 636.177},
						{1020 , 641.851},
						{1030 , 647.659},
						{1040 , 653.604},
						{1050 , 659.687},
						{1060 , 665.91},
						{1070 , 672.275},
						{1080 , 678.785},
						{1090 , 685.44},
						{1100 , 692.244},
						{1110 , 699.199},
						{1120 , 706.308},
						{1130 , 713.572},
						{1140 , 720.994},
						{1150 , 728.578},
						{1160 , 736.326},
						{1170 , 744.241},
						{1180 , 752.327},
						{1190 , 760.586},
						{1200 , 769.022},
						{1210 , 777.64},
						{1220 , 786.442},
						{1230 , 795.432},
						{1240 , 804.616},
						{1250 , 813.998},
						{1260 , 823.581},
						{1270 , 833.372},
						{1280 , 843.376},
						{1290 , 853.597},
						{1300 , 864.042},
						{1310 , 874.718},
						{1320 , 885.63},
						{1330 , 896.786},
						{1340 , 908.194},
						{1350 , 919.86},
						{1360 , 931.795},
						{1370 , 944.006},
						{1380 , 956.504},
						{1390 , 969.299},
						{1400 , 982.402},
						{1410 , 995.825},
						{1420 , 1009.58},
						{1430 , 1023.69},
						{1440 , 1038.15},
						{1450 , 1053},
						{1460 , 1068.24},
						{1470 , 1083.9},
						{1480 , 1100},
						{1490 , 1116.56},
						{1500 , 1133.61},
						{1510 , 1151.18},
						{1520 , 1169.31},
						{1530 , 1188.02},
						{1540 , 1207.36},
						{1550 , 1227.38},
						{1560 , 1248.13},
						{1570 , 1269.68},
						{1580 , 1292.1},
						{1590 , 1315.46},
						{1600 , 1339.88},
						{1610 , 1365.48},
						{1620 , 1392.4},
						{1630 , 1420.82},
						{1640 , 1450.99},
						{1650 , 1483.21},
						{1660 , 1517.88},
						{1670 , 1555.58},
						{1680 , 1597.17},
						{1690 , 1644},
						{1700 , 1698.5},
						{1710 , 1765.98},
						{1720 , 1864.61},
					{1725 , 2000},
					{1715 , 2149.25},
					{1705 , 2210},
					{1695 , 2255.88},
					{1685 , 2293.94},
					{1675 , 2326.92},
					{1665 , 2356.23},
					{1655 , 2382.72},
					{1645 , 2406.94},
					{1635 , 2429.27},
					{1625 , 2450},
					{1615 , 2469.33},
					{1605 , 2487.44},
					{1595 , 2504.46},
					{1585 , 2520.48},
					{1575 , 2535.61},
					{1565 , 2549.91},
					{1555 , 2563.45},
					{1545 , 2576.28},
					{1535 , 2588.45},
					{1525 , 2600},
					{1515 , 2610.96},
					{1505 , 2621.37},
					{1495 , 2631.25},
					{1485 , 2640.62},
					{1475 , 2649.52},
					{1465 , 2657.95},
					{1455 , 2665.94},
					{1445 , 2673.5},
					{1435 , 2680.64},
					{1425 , 2687.39},
					{1415 , 2693.74},
					{1405 , 2699.71},
					{1395 , 2705.32},
					{1385 , 2710.56},
					{1375 , 2715.45},
					{1365 , 2720},
					{1355 , 2724.21},
					{1345 , 2728.08},
					{1335 , 2731.62},
					{1325 , 2734.85},
					{1315 , 2737.75},
					{1305 , 2740.34},
					{1295 , 2742.61},
					{1285 , 2744.58},
					{1275 , 2746.24},
					{1265 , 2747.6},
					{1255 , 2748.65},
					{1245 , 2749.4},
					{1235 , 2749.85},
					{1225 , 2750},
					{1214.53 , 2760},
					{1204.06 , 2770},
					{1193.6 , 2780},
					{1183.16 , 2790},
					{1172.74 , 2800},
					{1162.33 , 2810},
					{1151.96 , 2820},
					{1141.62 , 2830},
					{1131.31 , 2840},
					{1121.04 , 2850},
					{1110.82 , 2860},
					{1100.66 , 2870},
					{1090.54 , 2880},
					{1080.48 , 2890},
					{1070.49 , 2900},
					{1060.57 , 2910},
					{1050.71 , 2920},
					{1040.94 , 2930},
					{1031.24 , 2940},
					{1021.63 , 2950},
					{1012.11 , 2960},
					{1002.68 , 2970},
					{993.352 , 2980},
					{984.123 , 2990},
					{975 , 3000},
					{965.987 , 3010},
					{957.087 , 3020},
					{948.304 , 3030},
					{939.643 , 3040},
					{931.107 , 3050},
					{922.7 , 3060},
					{914.426 , 3070},
					{906.288 , 3080},
					{898.29 , 3090},
					{890.435 , 3100},
					{882.726 , 3110},
					{875.168 , 3120},
					{867.764 , 3130},
					{860.516 , 3140},
					{853.428 , 3150},
					{846.503 , 3160},
					{839.743 , 3170},
					{833.153 , 3180},
					{826.735 , 3190},
					{820.492 , 3200},
					{814.425 , 3210},
					{808.539 , 3220},
					{802.836 , 3230},
					{797.318 , 3240},
					{791.987 , 3250},
					{786.847 , 3260},
					{781.898 , 3270},
					{777.144 , 3280},
					{772.586 , 3290},
					{768.227 , 3300},
					{764.068 , 3310},
					{760.112 , 3320},
					{756.359 , 3330},
					{752.812 , 3340},
					{749.472 , 3350},
					{746.34 , 3360},
					{743.419 , 3370},
					{740.708 , 3380},
					{738.211 , 3390},
					{735.926 , 3400},
					{733.856 , 3410},
					{732.002 , 3420},
					{730.364 , 3430},
					{728.943 , 3440},
					{727.739 , 3450},
					{726.754 , 3460},
					{725.987 , 3470},
					{725.439 , 3480},
					{725.11 , 3490},
					{725 , 3500},
					{725.11 , 3510},
					{725.439 , 3520},
					{725.987 , 3530},
					{726.754 , 3540},
					{727.739 , 3550},
					{728.943 , 3560},
					{730.364 , 3570},
					{732.002 , 3580},
					{733.856 , 3590},
					{735.926 , 3600},
					{738.211 , 3610},
					{740.708 , 3620},
					{743.419 , 3630},
					{746.34 , 3640},
					{749.472 , 3650},
					{752.812 , 3660},
					{756.359 , 3670},
					{760.112 , 3680},
					{764.068 , 3690},
					{768.227 , 3700},
					{772.586 , 3710},
					{777.144 , 3720},
					{781.898 , 3730},
					{786.847 , 3740},
					{791.987 , 3750},
					{797.318 , 3760},
					{802.836 , 3770},
					{808.539 , 3780},
					{814.425 , 3790},
					{820.492 , 3800},
					{826.735 , 3810},
					{833.153 , 3820},
					{839.743 , 3830},
					{846.503 , 3840},
					{853.428 , 3850},
					{860.516 , 3860},
					{867.764 , 3870},
					{875.168 , 3880},
					{882.726 , 3890},
					{890.435 , 3900},
					{898.29 , 3910},
					{906.288 , 3920},
					{914.426 , 3930},
					{922.7 , 3940},
					{931.107 , 3950},
					{939.643 , 3960},
					{948.304 , 3970},
					{957.087 , 3980},
					{965.987 , 3990},
					{975 , 4000},
					{984.123 , 4010},
					{993.352 , 4020},
					{1002.68 , 4030},
					{1012.11 , 4040},
					{1021.63 , 4050},
					{1031.24 , 4060},
					{1040.94 , 4070},
					{1050.71 , 4080},
					{1060.57 , 4090},
					{1070.49 , 4100},
					{1080.48 , 4110},
					{1090.54 , 4120},
					{1100.66 , 4130},
					{1110.82 , 4140},
					{1121.04 , 4150},
					{1131.31 , 4160},
					{1141.62 , 4170},
					{1151.96 , 4180},
					{1162.33 , 4190},
					{1172.74 , 4200},
					{1183.16 , 4210},
					{1193.6 , 4220},
					{1204.06 , 4230},
					{1214.53 , 4240},
					{1225 , 4250},
					{1235.47 , 4260},
					{1245.94 , 4270},
					{1256.4 , 4280},
					{1266.84 , 4290},
					{1277.26 , 4300},
					{1287.67 , 4310},
					{1298.04 , 4320},
					{1308.38 , 4330},
					{1318.69 , 4340},
					{1328.96 , 4350},
					{1339.18 , 4360},
					{1349.34 , 4370},
					{1359.46 , 4380},
					{1369.52 , 4390},
					{1379.51 , 4400},
					{1389.43 , 4410},
					{1399.29 , 4420},
					{1409.06 , 4430},
					{1418.76 , 4440},
					{1428.37 , 4450},
					{1437.89 , 4460},
					{1447.32 , 4470},
					{1456.65 , 4480},
					{1465.88 , 4490},
					{1475 , 4500},
					{1484.01 , 4510},
					{1492.91 , 4520},
					{1501.7 , 4530},
					{1510.36 , 4540},
					{1518.89 , 4550},
					{1527.3 , 4560},
					{1535.57 , 4570},
					{1543.71 , 4580},
					{1551.71 , 4590},
					{1559.57 , 4600},
					{1567.27 , 4610},
					{1574.83 , 4620},
					{1582.24 , 4630},
					{1589.48 , 4640},
					{1596.57 , 4650},
					{1603.5 , 4660},
					{1610.26 , 4670},
					{1616.85 , 4680},
					{1623.27 , 4690},
					{1629.51 , 4700},
					{1635.57 , 4710},
					{1641.46 , 4720},
					{1647.16 , 4730},
					{1652.68 , 4740},
					{1658.01 , 4750},
					{1663.15 , 4760},
					{1668.1 , 4770},
					{1672.86 , 4780},
					{1677.41 , 4790},
					{1681.77 , 4800},
					{1685.93 , 4810},
					{1689.89 , 4820},
					{1693.64 , 4830},
					{1697.19 , 4840},
					{1700.53 , 4850},
					{1703.66 , 4860},
					{1706.58 , 4870},
					{1709.29 , 4880},
					{1711.79 , 4890},
					{1714.07 , 4900},
					{1716.14 , 4910},
					{1718 , 4920},
					{1719.64 , 4930},
					{1721.06 , 4940},
					{1722.26 , 4950},
					{1723.25 , 4960},
					{1724.01 , 4970},
					{1724.56 , 4980},
					{1724.89 , 4990},
					{1725 , 5000},
					{1724.89 , 5010},
					{1724.56 , 5020},
					{1724.01 , 5030},
					{1723.25 , 5040},
					{1722.26 , 5050},
					{1721.06 , 5060},
					{1719.64 , 5070},
					{1718 , 5080},
					{1716.14 , 5090},
					{1714.07 , 5100},
					{1711.79 , 5110},
					{1709.29 , 5120},
					{1706.58 , 5130},
					{1703.66 , 5140},
					{1700.53 , 5150},
					{1697.19 , 5160},
					{1693.64 , 5170},
					{1689.89 , 5180},
					{1685.93 , 5190},
					{1681.77 , 5200},
					{1677.41 , 5210},
					{1672.86 , 5220},
					{1668.1 , 5230},
					{1663.15 , 5240},
					{1658.01 , 5250},
					{1652.68 , 5260},
					{1647.16 , 5270},
					{1641.46 , 5280},
					{1635.57 , 5290},
					{1629.51 , 5300},
					{1623.27 , 5310},
					{1616.85 , 5320},
					{1610.26 , 5330},
					{1603.5 , 5340},
					{1596.57 , 5350},
					{1589.48 , 5360},
					{1582.24 , 5370},
					{1574.83 , 5380},
					{1567.27 , 5390},
					{1559.57 , 5400},
					{1551.71 , 5410},
					{1543.71 , 5420},
					{1535.57 , 5430},
					{1527.3 , 5440},
					{1518.89 , 5450},
					{1510.36 , 5460},
					{1501.7 , 5470},
					{1492.91 , 5480},
					{1484.01 , 5490},
					{1475 , 5500},
					{1465.88 , 5510},
					{1456.65 , 5520},
					{1447.32 , 5530},
					{1437.89 , 5540},
					{1428.37 , 5550},
					{1418.76 , 5560},
					{1409.06 , 5570},
					{1399.29 , 5580},
					{1389.43 , 5590},
					{1379.51 , 5600},
					{1369.52 , 5610},
					{1359.46 , 5620},
					{1349.34 , 5630},
					{1339.18 , 5640},
					{1328.96 , 5650},
					{1318.69 , 5660},
					{1308.38 , 5670},
					{1298.04 , 5680},
					{1287.67 , 5690},
					{1277.26 , 5700},
					{1266.84 , 5710},
					{1256.4 , 5720},
					{1245.94 , 5730},
					{1235.47 , 5740},
					{1225 , 5750},
					{1225 , 5760},
					{1225 , 5770},
					{1225 , 5780},
					{1225 , 5790},
					{1225 , 5800},
					{1225 , 5810},
					{1225 , 5820},
					{1225 , 5830},
					{1225 , 5840},
					{1225 , 5850},
					{1225 , 5860},
					{1225 , 5870},
					{1225 , 5880},
					{1225 , 5890},
					{1225 , 5900},
					{1225 , 5910},
					{1225 , 5920},
					{1225 , 5930},
					{1225 , 5940},
					{1225 , 5950},
					{1225 , 5960},
					{1225 , 5970},
					{1225 , 5980},
					{1225 , 5990},
					{1225 , 6000},
					{1225 , 6010},
					{1225 , 6020},
					{1225 , 6030},
					{1225 , 6040},
					{1225 , 6050},
					{1225 , 6060},
					{1225 , 6070},
					{1225 , 6080},
					{1225 , 6090},
					{1225 , 6100},
					{1225 , 6110},
					{1225 , 6120},
					{1225 , 6130},
					{1225 , 6140},
					{1225 , 6150},
					{1225 , 6160},
					{1225 , 6170},
					{1225 , 6180},
					{1225 , 6190},
					{1225 , 6200},
					{1225 , 6210},
					{1225 , 6220},
					{1225 , 6230},
					{1225 , 6240},
					{1225 , 6250},
					{1225 , 6260},
					{1225 , 6270},
					{1225 , 6280},
					{1225 , 6290},
					{1225 , 6300},
					{1225 , 6310},
					{1225 , 6320},
					{1225 , 6330},
					{1225 , 6340},
					{1225 , 6350},
					{1225 , 6360},
					{1225 , 6370},
					{1225 , 6380},
					{1225 , 6390},
					{1225 , 6400},
					{1225 , 6410},
					{1225 , 6420},
					{1225 , 6430},
					{1225 , 6440},
					{1225 , 6450},
					{1225 , 6460},
					{1225 , 6470},
					{1225 , 6480},
					{1225 , 6490},
					{1225 , 6500},
					{1225 , 6510},
					{1225 , 6520},
					{1225 , 6530},
					{1225 , 6540},
					{1225 , 6550},
					{1225 , 6560},
					{1225 , 6570},
					{1225 , 6580},
					{1225 , 6590},
					{1225 , 6600},
					{1225 , 6610},
					{1225 , 6620},
					{1225 , 6630},
					{1225 , 6640},
					{1225 , 6650},
					{1225 , 6660},
					{1225 , 6670},
					{1225 , 6680},
					{1225 , 6690},
					{1225 , 6700},
					{1225 , 6710},
					{1225 , 6720},
					{1225 , 6730},
					{1225 , 6740},
					{1225 , 6750},
					{1225 , 6760},
					{1225 , 6770},
					{1225 , 6780},
					{1225 , 6790},
					{1225 , 6800},
					{1225 , 6810},
					{1225 , 6820},
					{1225 , 6830},
					{1225 , 6840},
					{1225 , 6850},
					{1225 , 6860},
					{1225 , 6870},
					{1225 , 6880},
					{1225 , 6890},
					{1225 , 6900},
					{1225 , 6910},
					{1225 , 6920},
					{1225 , 6930},
					{1225 , 6940},
					{1225 , 6950},
					{1225 , 6960},
					{1225 , 6970},
					{1225 , 6980},
					{1225 , 6990},
					{1225 , 7000},
					{1225 , 7010},
					{1225 , 7020},
					{1225 , 7030},
					{1225 , 7040},
					{1225 , 7050},
					{1225 , 7060},
					{1225 , 7070},
					{1225 , 7080},
					{1225 , 7090},
					{1225 , 7100},
					{1225 , 7110},
					{1225 , 7120},
					{1225 , 7130},
					{1225 , 7140},
					{1225 , 7150},
					{1225 , 7160},
					{1225 , 7170},
					{1225 , 7180},
					{1225 , 7190},
					{1225 , 7200},
					{1225 , 7210},
					{1225 , 7220},
					{1225 , 7230},
					{1225 , 7240},
					{1225 , 7250},
					{1225 , 7260},
					{1225 , 7270},
					{1225 , 7280},
					{1225 , 7290},
					{1225 , 7300},
					{1225 , 7310},
					{1225 , 7320},
					{1225 , 7330},
					{1225 , 7340},
					{1225 , 7350},
					{1225 , 7360},
					{1225 , 7370},
					{1225 , 7380},
					{1225 , 7390},
					{1225 , 7400},
					{1225 , 7410},
					{1225 , 7420},
					{1225 , 7430},
					{1225 , 7440},
					{1225 , 7450},
					{1225 , 7460},
					{1225 , 7470},
					{1225 , 7480},
					{1225 , 7490},
					{1225 , 7500},
					{1225 , 7510},
					{1225 , 7520},
					{1225 , 7530},
					{1225 , 7540},
					{1225 , 7550},
					{1225 , 7560},
					{1225 , 7570},
					{1225 , 7580},
					{1225 , 7590},
					{1225 , 7600},
					{1225 , 7610},
					{1225 , 7620},
					{1225 , 7630},
					{1225 , 7640},
					{1225 , 7650},
					{1225 , 7660},
					{1225 , 7670},
					{1225 , 7680},
					{1225 , 7690},
					{1225 , 7700},
					{1225 , 7710},
					{1225 , 7720},
					{1225 , 7730},
					{1225 , 7740},
					{1225 , 7750},
					{1225 , 7760},
					{1225 , 7770},
					{1225 , 7780},
					{1225 , 7790},
					{1225 , 7800},
					{1225 , 7810},
					{1225 , 7820},
					{1225 , 7830},
					{1225 , 7840},
					{1225 , 7850},
					{1225 , 7860},
					{1225 , 7870},
					{1225 , 7880},
					{1225 , 7890},
					{1225 , 7900},
					{1225 , 7910},
					{1225 , 7920},
					{1225 , 7930},
					{1225 , 7940},
					{1225 , 7950},
					{1225 , 7960},
					{1225 , 7970},
					{1225 , 7980},
					{1225 , 7990},
					{1225 , 8000},
					{1235 , 8141.07},
					{1245 , 8199},
					{1255 , 8243.1},
					{1265 , 8280},
					{1275 , 8312.25},
					{1285 , 8341.17},
					{1295 , 8367.56},
					{1305 , 8391.92},
					{1315 , 8414.61},
					{1325 , 8435.89},
					{1335 , 8455.96},
					{1345 , 8474.97},
					{1355 , 8493.05},
					{1365 , 8510.29},
					{1375 , 8526.78},
					{1385 , 8542.59},
					{1395 , 8557.76},
					{1405 , 8572.36},
					{1415 , 8586.43},
					{1425 , 8600},
					{1435 , 8613.11},
					{1445 , 8625.78},
					{1455 , 8638.04},
					{1465 , 8649.92},
					{1475 , 8661.44},
					{1485 , 8672.61},
					{1495 , 8683.45},
					{1505 , 8693.97},
					{1515 , 8704.2},
					{1525 , 8714.14},
					{1535 , 8723.81},
					{1545 , 8733.21},
					{1555 , 8742.36},
					{1565 , 8751.27},
					{1575 , 8759.93},
					{1585 , 8768.38},
					{1595 , 8776.59},
					{1605 , 8784.6},
					{1615 , 8792.4},
					{1625 , 8800},
					{1635 , 8807.4},
					{1645 , 8814.62},
					{1655 , 8821.64},
					{1665 , 8828.49},
					{1675 , 8835.17},
					{1685 , 8841.67},
					{1695 , 8848},
					{1705 , 8854.17},
					{1715 , 8860.17},
					{1725 , 8866.03},
					{1735 , 8871.72},
					{1745 , 8877.27},
					{1755 , 8882.67},
					{1765 , 8887.92},
					{1775 , 8893.03},
					{1785 , 8898},
					{1795 , 8902.83},
					{1805 , 8907.52},
					{1815 , 8912.09},
					{1825 , 8916.52},
					{1835 , 8920.81},
					{1845 , 8924.99},
					{1855 , 8929.03},
					{1865 , 8932.95},
					{1875 , 8936.75},
					{1885 , 8940.43},
					{1895 , 8943.98},
					{1905 , 8947.42},
					{1915 , 8950.74},
					{1925 , 8953.94},
					{1935 , 8957.03},
					{1945 , 8960},
					{1955 , 8962.86},
					{1965 , 8965.61},
					{1975 , 8968.25},
					{1985 , 8970.77},
					{1995 , 8973.19},
					{2005 , 8975.5},
					{2015 , 8977.7},
					{2025 , 8979.8},
					{2035 , 8981.78},
					{2045 , 8983.67},
					{2055 , 8985.44},
					{2065 , 8987.12},
					{2075 , 8988.69},
					{2085 , 8990.15},
					{2095 , 8991.51},
					{2105 , 8992.77},
					{2115 , 8993.93},
					{2125 , 8994.99},
					{2135 , 8995.94},
					{2145 , 8996.79},
					{2155 , 8997.55},
					{2165 , 8998.2},
					{2175 , 8998.75},
					{2185 , 8999.2},
					{2195 , 8999.55},
					{2205 , 8999.8},
					{2215 , 8999.95},
					{2225 , 9000},
					{2235 , 9000},
					{2245 , 9000},
					{2255 , 9000},
					{2265 , 9000},
					{2275 , 9000},
					{2285 , 9000},
					{2295 , 9000},
					{2305 , 9000},
					{2315 , 9000},
					{2325 , 9000},
					{2335 , 9000},
					{2345 , 9000},
					{2355 , 9000},
					{2365 , 9000},
					{2375 , 9000},
					{2385 , 9000},
					{2395 , 9000},
					{2405 , 9000},
					{2415 , 9000},
					{2425 , 9000},
					{2435 , 9000},
					{2445 , 9000},
					{2455 , 9000},
					{2465 , 9000},
					{2475 , 9000},
					{2485 , 9000},
					{2495 , 9000},
					{2505 , 9000},
					{2515 , 9000},
					{2525 , 9000},
					{2535 , 9000},
					{2545 , 9000},
					{2555 , 9000},
					{2565 , 9000},
					{2575 , 9000},
					{2585 , 9000},
					{2595 , 9000},
					{2605 , 9000},
					{2615 , 9000},
					{2625 , 9000},
					{2635 , 9000},
					{2645 , 9000},
					{2655 , 9000},
					{2665 , 9000},
					{2675 , 9000},
					{2685 , 9000},
					{2695 , 9000},
					{2705 , 9000},
					{2715 , 9000},
					{2725 , 9000},
					{2735 , 9000},
					{2745 , 9000},
					{2755 , 9000},
					{2765 , 9000},
					{2775 , 9000},
					{2785 , 9000},
					{2795 , 9000},
					{2805 , 9000},
					{2815 , 9000},
					{2825 , 9000},
					{2835 , 9000},
					{2845 , 9000},
					{2855 , 9000},
					{2865 , 9000},
					{2875 , 9000},
					{2885 , 9000},
					{2895 , 9000},
					{2905 , 9000},
					{2915 , 9000},
					{2925 , 9000},
					{2935 , 9000},
					{2945 , 9000},
					{2955 , 9000},
					{2965 , 9000},
					{2975 , 9000},
					{2985 , 9000},
					{2995 , 9000},
					{3005 , 9000},
					{3015 , 9000},
					{3025 , 9000},
					{3035 , 9000},
					{3045 , 9000},
					{3055 , 9000},
					{3065 , 9000},
					{3075 , 9000},
					{3085 , 9000},
					{3095 , 9000},
					{3105 , 9000},
					{3115 , 9000},
					{3125 , 9000},
					{3135 , 9000},
					{3145 , 9000},
					{3155 , 9000},
					{3165 , 9000},
					{3175 , 9000},
					{3185 , 9000},
					{3195 , 9000},
					{3205 , 9000},
					{3215 , 9000},
					{3225 , 9000},
					{3235 , 9000},
					{3245 , 9000},
					{3255 , 9000},
					{3265 , 9000},
					{3275 , 9000},
					{3285 , 9000},
					{3295 , 9000},
					{3305 , 9000},
					{3315 , 9000},
					{3325 , 9000},
					{3335 , 9000},
					{3345 , 9000},
					{3355 , 9000},
					{3365 , 9000},
					{3375 , 9000},
					{3385 , 9000},
					{3395 , 9000},
					{3405 , 9000},
					{3415 , 9000},
					{3425 , 9000},
					{3435 , 9000},
					{3445 , 9000},
					{3455 , 9000},
					{3465 , 9000},
					{3475 , 9000},
					{3485 , 9000},
					{3495 , 9000},
					{3505 , 9000},
					{3515 , 9000},
					{3525 , 9000},
					{3535 , 9000},
					{3545 , 9000},
					{3555 , 9000},
					{3565 , 9000},
					{3575 , 9000},
					{3585 , 9000},
					{3595 , 9000},
					{3605 , 9000},
					{3615 , 9000},
					{3625 , 9000},
					{3635 , 9000},
					{3645 , 9000},
					{3655 , 9000},
					{3665 , 9000},
					{3675 , 9000},
					{3685 , 9000},
					{3695 , 9000},
					{3705 , 9000},
					{3715 , 9000},
					{3725 , 9000},
					{3735 , 9000},
					{3745 , 9000},
					{3755 , 9000},
					{3765 , 9000},
					{3775 , 9000},
					{3785 , 9000},
					{3795 , 9000},
					{3805 , 9000},
					{3815 , 9000},
					{3825 , 9000},
					{3835 , 9000},
					{3845 , 9000},
					{3855 , 9000},
					{3865 , 9000},
					{3875 , 9000},
					{3885 , 9000},
					{3895 , 9000},
					{3905 , 9000},
					{3915 , 9000},
					{3925 , 9000},
					{3935 , 9000},
					{3945 , 9000},
					{3955 , 9000},
					{3965 , 9000},
					{3975 , 9000},
					{3985 , 9000},
					{3995 , 9000},
					{4005 , 9000},
					{4015 , 9000},
					{4025 , 9000},
					{4035 , 9000},
					{4045 , 9000},
					{4055 , 9000},
					{4065 , 9000},
					{4075 , 9000},
					{4085 , 9000},
					{4095 , 9000},
					{4105 , 9000},
					{4115 , 9000},
					{4125 , 9000},
					{4135 , 9000},
					{4145 , 9000},
					{4155 , 9000},
					{4165 , 9000},
					{4175 , 9000},
					{4185 , 9000},
					{4195 , 9000},
					{4205 , 9000},
					{4215 , 9000},
					{4225 , 9000},
					{4235 , 9000},
					{4245 , 9000},
					{4255 , 9000},
					{4265 , 9000},
					{4275 , 9000},
					{4285 , 9000},
					{4295 , 9000},
					{4305 , 9000},
					{4315 , 9000},
					{4325 , 9000},
					{4335 , 9000},
					{4345 , 9000},
					{4355 , 9000},
					{4365 , 9000},
					{4375 , 9000},
					{4385 , 9000},
					{4395 , 9000},
					{4405 , 9000},
					{4415 , 9000},
					{4425 , 9000},
					{4435 , 9000},
					{4445 , 9000},
					{4455 , 9000},
					{4465 , 9000},
					{4475 , 9000},
					{4485 , 9000},
					{4495 , 9000},
					{4505 , 9000},
					{4515 , 9000},
					{4525 , 9000},
					{4535 , 9000},
					{4545 , 9000},
					{4555 , 9000},
					{4565 , 9000},
					{4575 , 9000},
					{4585 , 9000},
					{4595 , 9000},
					{4605 , 9000},
					{4615 , 9000},
					{4625 , 9000},
					{4635 , 9000},
					{4645 , 9000},
					{4655 , 9000},
					{4665 , 9000},
					{4675 , 9000},
					{4685 , 9000},
					{4695 , 9000},
					{4705 , 9000},
					{4715 , 9000},
					{4725 , 9000},
					{4735 , 9000},
					{4745 , 9000},
					{4755 , 9000},
					{4765 , 9000},
					{4775 , 9000},
					{4785 , 9000},
					{4795 , 9000},
					{4805 , 9000},
					{4815 , 9000},
					{4825 , 9000},
					{4835 , 9000},
					{4845 , 9000},
					{4855 , 9000},
					{4865 , 9000},
					{4875 , 9000},
					{4885 , 9000},
					{4895 , 9000},
					{4905 , 9000},
					{4915 , 9000},
					{4925 , 9000},
					{4935 , 9000},
					{4945 , 9000},
					{4955 , 9000},
					{4965 , 9000},
					{4975 , 9000},
					{4985 , 9000},
					{4995 , 9000},
					{5005 , 9000},
					{5015 , 9000},
					{5025 , 9000},
					{5035 , 9000},
					{5045 , 9000},
					{5055 , 9000},
					{5065 , 9000},
					{5075 , 9000},
					{5085 , 9000},
					{5095 , 9000},
					{5105 , 9000},
					{5115 , 9000},
					{5125 , 9000},
					{5135 , 9000},
					{5145 , 9000},
					{5155 , 9000},
					{5165 , 9000},
					{5175 , 9000},
					{5185 , 9000},
					{5195 , 9000},
					{5205 , 9000},
					{5215 , 9000},
					{5225 , 9000},
					{5235 , 9000},
					{5245 , 9000},
					{5255 , 9000},
					{5265 , 9000},
					{5275 , 9000},
					{5285 , 9000},
					{5295 , 9000},
					{5305 , 9000},
					{5315 , 9000},
					{5325 , 9000},
					{5335 , 9000},
					{5345 , 9000},
					{5355 , 9000},
					{5365 , 9000},
					{5375 , 9000},
					{5385 , 9000},
					{5395 , 9000},
					{5405 , 9000},
					{5415 , 9000},
					{5425 , 9000},
					{5435 , 9000},
					{5445 , 9000},
					{5455 , 9000},
					{5465 , 9000},
					{5475 , 9000},
					{5485 , 9000},
					{5495 , 9000}};

/* Private variables ---------------------------------------------------------*/

/* USER CODE END PV */

/* Private function prototypes -----------------------------------------------*/
void SystemClock_Config(void);

/* USER CODE BEGIN PFP */
/* Private function prototypes -----------------------------------------------*/


/* USER CODE END PFP */

/* USER CODE BEGIN 0 */

	
struct __FILE{
	
int handle;
};

FILE __stdout;
FILE __stdin;

int fputc(int ch, FILE *f)
{
	ITM_SendChar(ch);
	return(ch);
}



/* USER CODE END 0 */

/**
  * @brief  The application entry point.
  *
  * @retval None
  */
int main(void)
    {
        /* USER CODE BEGIN 1 */ 
        update_tick = HAL_GetTick();
	
        
		set_Gains_distance(&pid_dis_1, 1,0.00,0);	  // 13.55,0.025,300	25.55,0.004,1000
		set_Gains_distance(&pid_dis_2, 1,0.00,000);    // 7.465,0.011,200
		set_Gains_distance(&pid_dis_3, 1.2,0.001,0);
				
        /*  USER CODE END 1 */

        /* MCU Configuration----------------------------------------------------------*/
		
        /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
	    HAL_Init();

        /* USER CODE BEGIN Init */

        /* USER CODE END Init */

        /* Configure the system clock */
        SystemClock_Config();

        /* USER CODE BEGIN SysInit */

        /* USER CODE END SysInit */

        /* Initialize all configured peripherals */
        MX_GPIO_Init();
		MX_DMA_Init();
        MX_ADC1_Init();
        MX_TIM8_Init();
        MX_USART1_UART_Init();
        MX_USART3_UART_Init();
     
        /* USER CODE BEGIN 2 */
				
		wheel_init();
		init_encoder();
		for (uint8_t i = 0; i < 4; ++i) {
			init_PID(&pid[i]);
		}
		
		set_OutputLimit(&pid[0],12,-12);	
		set_OutputLimit(&pid[1],12,-12);
		set_OutputLimit(&pid[2],12,-12);
		set_OutputLimit(&pid[3],12,-12);
		
		HAL_TIM_Base_Start(&htim8);
		HAL_TIM_PWM_Start(&htim8, TIM_CHANNEL_1);
		HAL_TIM_PWM_Start(&htim8, TIM_CHANNEL_2);
		HAL_TIM_PWM_Start(&htim8, TIM_CHANNEL_3);
		HAL_TIM_PWM_Start(&htim8, TIM_CHANNEL_4);
			
		set_Gains(&pid[0], 0.063, 5.2, 0 );
		set_Gains(&pid[1], 0.063, 5.2, 0 );	
		set_Gains(&pid[2], 0.063, 5.2, 0 );	
		set_Gains(&pid[3], 0.063, 5.2, 0 );
	
		/* USER CODE END 2 */
	
			/* Infinite loop */
		int ok;
		
		uint32_t omega_update_tick = HAL_GetTick();
		uint32_t location_recieve_tick = HAL_GetTick();
		/*for (int i=0; i<700; i++)
		{
			ok = goto_absolute_distance(-go_abs[i][0]*0.9, go_abs[i][1]*0.9 ,0);
		}*/
		//ok = goto_absolute_distance(0,1000 ,0);
		ok++;
	float location[3] = {-450,500,0};
	while (1)
	{
		//printf("%d \t%d \t%d \t%d\n", e[0].count, e[1].count, e[2].count, e[3].count);
		HAL_Delay(1);
		//`printf("%f\t%f\n",robotx, roboty);	
		velocity[0]=0;
		velocity[1]=0;
		velocity[2]=0;
		calculate_velocity_with_pid();
		calculate_robot_distance();
		
		/*if((location_recieve_tick - HAL_GetTick())>15)
		{
			location_recieve_tick = HAL_GetTick();
			get_Navigator(location);
		}
			*/
		
		//HAL_Delay(1000);
		//printf("\n%f ", robotx);
        
	/* USER CODE BEGIN WHILE */
	    	  
	}				
	/* USER CODE END WHILE */
            /* USER CODE BEGIN 3 */			
}
		
						
        /* USER CODE END 3 */
	 
			
/**
  * @brief System Clock Configuration
  * @retval None
  */
void SystemClock_Config(void)
{
        RCC_OscInitTypeDef RCC_OscInitStruct;
        RCC_ClkInitTypeDef RCC_ClkInitStruct;

        /**Configure the main internal regulator output voltage 
    */
        __HAL_RCC_PWR_CLK_ENABLE();

        __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);

        /**Initializes the CPU, AHB and APB busses clocks 
    */
        RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
        RCC_OscInitStruct.HSEState = RCC_HSE_ON;
        RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
        RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
        RCC_OscInitStruct.PLL.PLLM = 8;
        RCC_OscInitStruct.PLL.PLLN = 336;
        RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV2;
        RCC_OscInitStruct.PLL.PLLQ = 4;
        if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
        {
                _Error_Handler(__FILE__, __LINE__);
        }

        /**Initializes the CPU, AHB and APB busses clocks 
    */
        RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK | RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
        RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
        RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
        RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV4;
        RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV2;

        if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_5) != HAL_OK)
        {
                _Error_Handler(__FILE__, __LINE__);
        }

        /**Configure the Systick interrupt time 
    */
        HAL_SYSTICK_Config(HAL_RCC_GetHCLKFreq() / 1000);

        /**Configure the Systick 
    */
        HAL_SYSTICK_CLKSourceConfig(SYSTICK_CLKSOURCE_HCLK);

        /* SysTick_IRQn interrupt configuration */
        HAL_NVIC_SetPriority(SysTick_IRQn, 0, 0);
}


/* USER CODE BEGIN 4 */

/* USER CODE END 4 */

/**
  * @brief  This function is executed in case of error occurrence.
  * @param  file: The file name as string.
  * @param  line: The line in file as a number.
  * @retval None
  */
void _Error_Handler(char *file, int line)
{
        /* USER CODE BEGIN Error_Handler_Debug */
        /* User can add his own implementation to report the HAL error return state */
        while (1)
        {
        }
        /* USER CODE END Error_Handler_Debug */
}

#ifdef USE_FULL_ASSERT
/**
  * @brief  Reports the name of the source file and the source line number
  *         where the assert_param error has occurred.
  * @param  file: pointer to the source file name
  * @param  line: assert_param error line source number
  * @retval None
  */
void assert_failed(uint8_t *file, uint32_t line)
{
        /* USER CODE BEGIN 6 */
        /* User can add his own implementation to report the file name and line number,
     tex: printf("Wrong parameters value: file %s on line %d\r\n", file, line) */
        /* USER CODE END 6 */
}
#endif /* USE_FULL_ASSERT */

/**
  * @}
  */

/**
  * @}
  */

/************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/
