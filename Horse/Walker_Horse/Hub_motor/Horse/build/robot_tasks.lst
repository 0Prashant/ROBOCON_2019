ARM GAS  C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"robot_tasks.cpp"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.StartDefaultTask,"ax",%progbits
  18              		.align	1
  19              		.global	StartDefaultTask
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	StartDefaultTask:
  26              	.LFB503:
  27              		.file 1 "Core/Src/robot/robot_tasks.cpp"
   1:Core/Src/robot/robot_tasks.cpp **** #include "FreeRTOS.h"
   2:Core/Src/robot/robot_tasks.cpp **** #include "task.h"
   3:Core/Src/robot/robot_tasks.cpp **** #include "main.h"
   4:Core/Src/robot/robot_tasks.cpp **** #include "cmsis_os.h"
   5:Core/Src/robot/robot_tasks.cpp **** #include "robot.h"
   6:Core/Src/robot/robot_tasks.cpp **** #include "robot_functions.h"
   7:Core/Src/robot/robot_tasks.cpp **** 
   8:Core/Src/robot/robot_tasks.cpp **** extern bool ROBOT_START_FLAG;
   9:Core/Src/robot/robot_tasks.cpp **** extern Robot_States robo_state;
  10:Core/Src/robot/robot_tasks.cpp **** extern float angles[7];
  11:Core/Src/robot/robot_tasks.cpp **** extern leg leg[2];
  12:Core/Src/robot/robot_tasks.cpp **** extern "C" void StartDefaultTask(void const *argument);
  13:Core/Src/robot/robot_tasks.cpp **** extern "C" void StartRobotTask(void const *argument);
  14:Core/Src/robot/robot_tasks.cpp **** extern "C" void StartLoggerTask(void const *argument);
  15:Core/Src/robot/robot_tasks.cpp **** extern "C" void StartCalculationTask(void const *argument);
  16:Core/Src/robot/robot_tasks.cpp **** 
  17:Core/Src/robot/robot_tasks.cpp **** float leg0_omega = 0;
  18:Core/Src/robot/robot_tasks.cpp **** float leg1_omega = 0;
  19:Core/Src/robot/robot_tasks.cpp **** float leg0_angle = 0;
  20:Core/Src/robot/robot_tasks.cpp **** float leg1_angle = 0;
  21:Core/Src/robot/robot_tasks.cpp **** 
  22:Core/Src/robot/robot_tasks.cpp **** 
  23:Core/Src/robot/robot_tasks.cpp **** /* USER CODE BEGIN Header_StartDefaultTask */
  24:Core/Src/robot/robot_tasks.cpp **** /**
  25:Core/Src/robot/robot_tasks.cpp ****   * @brief  Function implementing the defaultTask thread.
  26:Core/Src/robot/robot_tasks.cpp ****   * @param  argument: Not used 
  27:Core/Src/robot/robot_tasks.cpp ****   * @retval None
  28:Core/Src/robot/robot_tasks.cpp ****   */
  29:Core/Src/robot/robot_tasks.cpp **** /* USER CODE END Header_StartDefaultTask */
  30:Core/Src/robot/robot_tasks.cpp **** void StartDefaultTask(void const *argument)
  31:Core/Src/robot/robot_tasks.cpp **** {
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s 			page 2


  28              		.loc 1 31 0
  29              		.cfi_startproc
  30              		@ Volatile: function does not return.
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              	.LVL0:
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
  39              	.LVL1:
  40              	.L2:
  32:Core/Src/robot/robot_tasks.cpp **** 
  33:Core/Src/robot/robot_tasks.cpp **** 	/* USER CODE BEGIN StartDefaultTask */
  34:Core/Src/robot/robot_tasks.cpp **** 	/* Infinite loop */
  35:Core/Src/robot/robot_tasks.cpp **** 	for (;;)
  36:Core/Src/robot/robot_tasks.cpp **** 	{
  37:Core/Src/robot/robot_tasks.cpp **** 		osDelay(1);
  41              		.loc 1 37 0 discriminator 1
  42 0002 0120     		movs	r0, #1
  43 0004 FFF7FEFF 		bl	osDelay
  44              	.LVL2:
  45 0008 FBE7     		b	.L2
  46              		.cfi_endproc
  47              	.LFE503:
  49              		.section	.text.StartRobotTask,"ax",%progbits
  50              		.align	1
  51              		.global	StartRobotTask
  52              		.syntax unified
  53              		.thumb
  54              		.thumb_func
  55              		.fpu fpv4-sp-d16
  57              	StartRobotTask:
  58              	.LFB504:
  38:Core/Src/robot/robot_tasks.cpp **** 	}
  39:Core/Src/robot/robot_tasks.cpp **** 	/* USER CODE END StartDefaultTask */
  40:Core/Src/robot/robot_tasks.cpp **** }
  41:Core/Src/robot/robot_tasks.cpp **** 
  42:Core/Src/robot/robot_tasks.cpp **** /* USER CODE BEGIN Header_StartRobotTask */
  43:Core/Src/robot/robot_tasks.cpp **** /**
  44:Core/Src/robot/robot_tasks.cpp **** * @brief Function implementing the RobotTask thread.
  45:Core/Src/robot/robot_tasks.cpp **** * @param argument: Not used
  46:Core/Src/robot/robot_tasks.cpp **** * @retval None
  47:Core/Src/robot/robot_tasks.cpp **** */
  48:Core/Src/robot/robot_tasks.cpp **** /* USER CODE END Header_StartRobotTask */
  49:Core/Src/robot/robot_tasks.cpp **** void StartRobotTask(void const *argument)
  50:Core/Src/robot/robot_tasks.cpp **** {
  59              		.loc 1 50 0
  60              		.cfi_startproc
  61              		@ args = 0, pretend = 0, frame = 0
  62              		@ frame_needed = 0, uses_anonymous_args = 0
  63              	.LVL3:
  64 0000 70B5     		push	{r4, r5, r6, lr}
  65              	.LCFI1:
  66              		.cfi_def_cfa_offset 16
  67              		.cfi_offset 4, -16
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s 			page 3


  68              		.cfi_offset 5, -12
  69              		.cfi_offset 6, -8
  70              		.cfi_offset 14, -4
  71              	.LVL4:
  51:Core/Src/robot/robot_tasks.cpp **** 	/* USER CODE BEGIN StartRobotTask */
  52:Core/Src/robot/robot_tasks.cpp **** 	uint8_t sample_time = 10;
  53:Core/Src/robot/robot_tasks.cpp **** 	uint32_t dt = HAL_GetTick();
  72              		.loc 1 53 0
  73 0002 FFF7FEFF 		bl	HAL_GetTick
  74              	.LVL5:
  54:Core/Src/robot/robot_tasks.cpp **** 	// initialize_position();
  55:Core/Src/robot/robot_tasks.cpp **** 	ROBOT_START_FLAG = false;
  75              		.loc 1 55 0
  76 0006 0023     		movs	r3, #0
  77 0008 1D4A     		ldr	r2, .L8
  78 000a 1370     		strb	r3, [r2]
  56:Core/Src/robot/robot_tasks.cpp **** 	robo_state = HOME;
  79              		.loc 1 56 0
  80 000c 1D4A     		ldr	r2, .L8+4
  81 000e 1370     		strb	r3, [r2]
  82              	.LVL6:
  83              	.L6:
  84              	.LBB11:
  57:Core/Src/robot/robot_tasks.cpp **** 	
  58:Core/Src/robot/robot_tasks.cpp **** 	for(int i=0; i<7; i++){
  85              		.loc 1 58 0 discriminator 3
  86 0010 062B     		cmp	r3, #6
  87 0012 0ADC     		bgt	.L5
  59:Core/Src/robot/robot_tasks.cpp **** 		angles[i] *= -1;
  88              		.loc 1 59 0 discriminator 2
  89 0014 1C4A     		ldr	r2, .L8+8
  90 0016 02EB8302 		add	r2, r2, r3, lsl #2
  91 001a D2ED007A 		vldr.32	s15, [r2]
  92 001e F1EE677A 		vneg.f32	s15, s15
  93 0022 C2ED007A 		vstr.32	s15, [r2]
  58:Core/Src/robot/robot_tasks.cpp **** 		angles[i] *= -1;
  94              		.loc 1 58 0 discriminator 2
  95 0026 0133     		adds	r3, r3, #1
  96              	.LVL7:
  97 0028 F2E7     		b	.L6
  98              	.LVL8:
  99              	.L5:
 100              	.LBE11:
  60:Core/Src/robot/robot_tasks.cpp **** 	}
  61:Core/Src/robot/robot_tasks.cpp **** 	/* Infinite loop */
  62:Core/Src/robot/robot_tasks.cpp **** 	for (;;)
  63:Core/Src/robot/robot_tasks.cpp **** 	{
  64:Core/Src/robot/robot_tasks.cpp **** 		dt = HAL_GetTick();
 101              		.loc 1 64 0 discriminator 1
 102 002a FFF7FEFF 		bl	HAL_GetTick
 103              	.LVL9:
 104 002e 0446     		mov	r4, r0
 105              	.LVL10:
 106              	.LBB12:
 107              	.LBB13:
 108              		.file 2 "Core/Inc/devs/leg.h"
   1:Core/Inc/devs/leg.h **** #ifndef _LEG_H_
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s 			page 4


   2:Core/Inc/devs/leg.h **** #define _LEG_H_
   3:Core/Inc/devs/leg.h **** 
   4:Core/Inc/devs/leg.h **** #include "motor.h"
   5:Core/Inc/devs/leg.h **** #include "encoder.h"
   6:Core/Inc/devs/leg.h **** #include "pid.h"
   7:Core/Inc/devs/leg.h **** #include "limit_switch.h"
   8:Core/Inc/devs/leg.h **** #include "defines.h"
   9:Core/Inc/devs/leg.h **** #include "pid_algorithms.h"
  10:Core/Inc/devs/leg.h **** 
  11:Core/Inc/devs/leg.h **** enum Leg_condition{	RAISED, 
  12:Core/Inc/devs/leg.h **** 			FALLEN, 
  13:Core/Inc/devs/leg.h **** 			UNDEFINED};
  14:Core/Inc/devs/leg.h **** 
  15:Core/Inc/devs/leg.h **** class leg
  16:Core/Inc/devs/leg.h **** {
  17:Core/Inc/devs/leg.h **** public:
  18:Core/Inc/devs/leg.h **** 	leg() {}
  19:Core/Inc/devs/leg.h **** 	leg(leg &&) = default;
  20:Core/Inc/devs/leg.h **** 	leg(const leg &) = default;
  21:Core/Inc/devs/leg.h **** 	leg &operator=(leg &&) = default;
  22:Core/Inc/devs/leg.h **** 	leg &operator=(const leg &) = default;
  23:Core/Inc/devs/leg.h **** 	~leg(){}
  24:Core/Inc/devs/leg.h ****         void set_config(motor_config *motor, encoder_config *encoder) { 
  25:Core/Inc/devs/leg.h **** 		motor__.set_config(motor);
  26:Core/Inc/devs/leg.h **** 		encoder__.set_config(encoder);
  27:Core/Inc/devs/leg.h **** 	}
  28:Core/Inc/devs/leg.h **** 	void set_PID_constants(float kp, float ki, float kd, float lower_limit, float upper_limit) {
  29:Core/Inc/devs/leg.h **** 		dpid_.set_P(kp);
  30:Core/Inc/devs/leg.h **** 		dpid_.set_I(ki);
  31:Core/Inc/devs/leg.h **** 		dpid_.set_D(kd);
  32:Core/Inc/devs/leg.h **** 		dpid_.set_Limits(upper_limit, lower_limit);
  33:Core/Inc/devs/leg.h **** 	}
  34:Core/Inc/devs/leg.h **** 
  35:Core/Inc/devs/leg.h **** 	
  36:Core/Inc/devs/leg.h **** 	void set_omega(float omega);
  37:Core/Inc/devs/leg.h **** 	float ramp(float omega);
  38:Core/Inc/devs/leg.h **** 	void set_gravity_compensator_constant(float kgravity){kg_ = kgravity;}
  39:Core/Inc/devs/leg.h **** 	void reset_angle(float angle_in_radians);
  40:Core/Inc/devs/leg.h **** 	void reset_actual_angle(float angle_in_radians){encoder__.reset_actual_angle(angle_in_radians);}
  41:Core/Inc/devs/leg.h **** 	void calculate_omega();
  42:Core/Inc/devs/leg.h **** 	Leg_condition is_raised();
  43:Core/Inc/devs/leg.h **** 	bool is_raised_without_deadzone();
  44:Core/Inc/devs/leg.h **** 
  45:Core/Inc/devs/leg.h **** 	int get_steps(){return steps;}
  46:Core/Inc/devs/leg.h **** 	float get_omega(void){return encoder__.get_omega();}
 109              		.loc 2 46 0 discriminator 1
 110 0030 164D     		ldr	r5, .L8+12
 111 0032 2846     		mov	r0, r5
 112              	.LVL11:
 113 0034 FFF7FEFF 		bl	_ZN7encoder9get_omegaEv
 114              	.LVL12:
 115              	.LBE13:
 116              	.LBE12:
  65:Core/Src/robot/robot_tasks.cpp **** 		// play();
  66:Core/Src/robot/robot_tasks.cpp **** 		
  67:Core/Src/robot/robot_tasks.cpp **** 		leg0_omega = leg[0].get_omega();
 117              		.loc 1 67 0 discriminator 1
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s 			page 5


 118 0038 154B     		ldr	r3, .L8+16
 119 003a 83ED000A 		vstr.32	s0, [r3]
 120              	.LVL13:
 121              	.LBB14:
 122              	.LBB15:
 123              		.loc 2 46 0 discriminator 1
 124 003e 05F15806 		add	r6, r5, #88
 125 0042 3046     		mov	r0, r6
 126 0044 FFF7FEFF 		bl	_ZN7encoder9get_omegaEv
 127              	.LVL14:
 128              	.LBE15:
 129              	.LBE14:
  68:Core/Src/robot/robot_tasks.cpp **** 		leg1_omega = leg[1].get_omega();
 130              		.loc 1 68 0 discriminator 1
 131 0048 124B     		ldr	r3, .L8+20
 132 004a 83ED000A 		vstr.32	s0, [r3]
 133              	.LVL15:
 134              	.LBB16:
 135              	.LBB17:
  47:Core/Inc/devs/leg.h **** 	float get_angle(void){return encoder__.get_angle();}
 136              		.loc 2 47 0 discriminator 1
 137 004e 2846     		mov	r0, r5
 138 0050 FFF7FEFF 		bl	_ZN7encoder9get_angleEv
 139              	.LVL16:
 140              	.LBE17:
 141              	.LBE16:
  69:Core/Src/robot/robot_tasks.cpp **** 		leg0_angle = leg[0].get_angle();
 142              		.loc 1 69 0 discriminator 1
 143 0054 104B     		ldr	r3, .L8+24
 144 0056 83ED000A 		vstr.32	s0, [r3]
 145              	.LVL17:
 146              	.LBB18:
 147              	.LBB19:
 148              		.loc 2 47 0 discriminator 1
 149 005a 3046     		mov	r0, r6
 150 005c FFF7FEFF 		bl	_ZN7encoder9get_angleEv
 151              	.LVL18:
 152              	.LBE19:
 153              	.LBE18:
  70:Core/Src/robot/robot_tasks.cpp **** 		leg1_angle = leg[1].get_angle();
 154              		.loc 1 70 0 discriminator 1
 155 0060 0E4B     		ldr	r3, .L8+28
 156 0062 83ED000A 		vstr.32	s0, [r3]
  71:Core/Src/robot/robot_tasks.cpp **** 		// printf(" steps = %d\t leg_1_angle = %d\t leg_2_angle = %d \t leg_1_omega = %d\t leg_2_omega = 
  72:Core/Src/robot/robot_tasks.cpp **** 		// (int)(leg[0].get_actual_angle() * 180 / PI), (int)(leg[1].get_actual_angle() * 180 / PI), (int
  73:Core/Src/robot/robot_tasks.cpp **** 		go(100,0);
 157              		.loc 1 73 0 discriminator 1
 158 0066 9FED0E0A 		vldr.32	s0, .L8+32
 159 006a 6420     		movs	r0, #100
 160 006c FFF7FEFF 		bl	_Z2goif
 161              	.LVL19:
  74:Core/Src/robot/robot_tasks.cpp **** 		// leg[0].set_omega(0);
  75:Core/Src/robot/robot_tasks.cpp **** 		// leg[1].set_omega(10);
  76:Core/Src/robot/robot_tasks.cpp **** 		//steering.set_omega(0);
  77:Core/Src/robot/robot_tasks.cpp **** 		dt = HAL_GetTick() - dt;
 162              		.loc 1 77 0 discriminator 1
 163 0070 FFF7FEFF 		bl	HAL_GetTick
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s 			page 6


 164              	.LVL20:
 165 0074 001B     		subs	r0, r0, r4
 166              	.LVL21:
  78:Core/Src/robot/robot_tasks.cpp **** 		osDelay(sample_time - dt);
 167              		.loc 1 78 0 discriminator 1
 168 0076 C0F10A00 		rsb	r0, r0, #10
 169              	.LVL22:
 170 007a FFF7FEFF 		bl	osDelay
 171              	.LVL23:
 172 007e D4E7     		b	.L5
 173              	.L9:
 174              		.align	2
 175              	.L8:
 176 0080 00000000 		.word	ROBOT_START_FLAG
 177 0084 00000000 		.word	robo_state
 178 0088 00000000 		.word	angles
 179 008c 3C000000 		.word	leg+60
 180 0090 00000000 		.word	.LANCHOR0
 181 0094 00000000 		.word	.LANCHOR1
 182 0098 00000000 		.word	.LANCHOR2
 183 009c 00000000 		.word	.LANCHOR3
 184 00a0 00000000 		.word	0
 185              		.cfi_endproc
 186              	.LFE504:
 188              		.section	.text.StartLoggerTask,"ax",%progbits
 189              		.align	1
 190              		.global	StartLoggerTask
 191              		.syntax unified
 192              		.thumb
 193              		.thumb_func
 194              		.fpu fpv4-sp-d16
 196              	StartLoggerTask:
 197              	.LFB505:
  79:Core/Src/robot/robot_tasks.cpp **** 	}
  80:Core/Src/robot/robot_tasks.cpp **** 	/* USER CODE END StartRobotTask */
  81:Core/Src/robot/robot_tasks.cpp **** }
  82:Core/Src/robot/robot_tasks.cpp **** 
  83:Core/Src/robot/robot_tasks.cpp **** /* USER CODE BEGIN Header_StartLoggerTask */
  84:Core/Src/robot/robot_tasks.cpp **** /**
  85:Core/Src/robot/robot_tasks.cpp **** * @brief Function implementing the LoggerTask thread.
  86:Core/Src/robot/robot_tasks.cpp **** * @param argument: Not used
  87:Core/Src/robot/robot_tasks.cpp **** * @retval None
  88:Core/Src/robot/robot_tasks.cpp **** */
  89:Core/Src/robot/robot_tasks.cpp **** /* USER CODE END Header_StartLoggerTask */
  90:Core/Src/robot/robot_tasks.cpp **** void StartLoggerTask(void const *argument)
  91:Core/Src/robot/robot_tasks.cpp **** {
 198              		.loc 1 91 0
 199              		.cfi_startproc
 200              		@ args = 0, pretend = 0, frame = 0
 201              		@ frame_needed = 0, uses_anonymous_args = 0
 202              	.LVL24:
 203 0000 10B5     		push	{r4, lr}
 204              	.LCFI2:
 205              		.cfi_def_cfa_offset 8
 206              		.cfi_offset 4, -8
 207              		.cfi_offset 14, -4
 208              	.LVL25:
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s 			page 7


  92:Core/Src/robot/robot_tasks.cpp **** 	/* USER CODE BEGIN StartLoggerTask */
  93:Core/Src/robot/robot_tasks.cpp **** 	/* Infinite loop */
  94:Core/Src/robot/robot_tasks.cpp **** 	uint8_t sample_time = 50;
  95:Core/Src/robot/robot_tasks.cpp **** 	uint32_t dt = HAL_GetTick();
 209              		.loc 1 95 0
 210 0002 FFF7FEFF 		bl	HAL_GetTick
 211              	.LVL26:
 212              	.L11:
  96:Core/Src/robot/robot_tasks.cpp **** 	for (;;)
  97:Core/Src/robot/robot_tasks.cpp **** 	{
  98:Core/Src/robot/robot_tasks.cpp **** 		dt = HAL_GetTick();
 213              		.loc 1 98 0 discriminator 1
 214 0006 FFF7FEFF 		bl	HAL_GetTick
 215              	.LVL27:
 216 000a 0446     		mov	r4, r0
 217              	.LVL28:
  99:Core/Src/robot/robot_tasks.cpp **** 
 100:Core/Src/robot/robot_tasks.cpp **** 		dt = HAL_GetTick() - dt;
 218              		.loc 1 100 0 discriminator 1
 219 000c FFF7FEFF 		bl	HAL_GetTick
 220              	.LVL29:
 221 0010 001B     		subs	r0, r0, r4
 222              	.LVL30:
 101:Core/Src/robot/robot_tasks.cpp **** 		osDelay(sample_time - dt);
 223              		.loc 1 101 0 discriminator 1
 224 0012 C0F13200 		rsb	r0, r0, #50
 225              	.LVL31:
 226 0016 FFF7FEFF 		bl	osDelay
 227              	.LVL32:
 228 001a F4E7     		b	.L11
 229              		.cfi_endproc
 230              	.LFE505:
 232              		.section	.text.StartCalculationTask,"ax",%progbits
 233              		.align	1
 234              		.global	StartCalculationTask
 235              		.syntax unified
 236              		.thumb
 237              		.thumb_func
 238              		.fpu fpv4-sp-d16
 240              	StartCalculationTask:
 241              	.LFB506:
 102:Core/Src/robot/robot_tasks.cpp **** 	}
 103:Core/Src/robot/robot_tasks.cpp **** 	/* USER CODE END StartLoggerTask */
 104:Core/Src/robot/robot_tasks.cpp **** }
 105:Core/Src/robot/robot_tasks.cpp **** 
 106:Core/Src/robot/robot_tasks.cpp **** /* USER CODE BEGIN Header_StartCalculationTask */
 107:Core/Src/robot/robot_tasks.cpp **** /**
 108:Core/Src/robot/robot_tasks.cpp **** * @brief Function implementing the CalculationTask thread.
 109:Core/Src/robot/robot_tasks.cpp **** * @param argument: Not used
 110:Core/Src/robot/robot_tasks.cpp **** * @retval None
 111:Core/Src/robot/robot_tasks.cpp **** */
 112:Core/Src/robot/robot_tasks.cpp **** /* USER CODE END Header_StartCalculationTask */
 113:Core/Src/robot/robot_tasks.cpp **** void StartCalculationTask(void const *argument)
 114:Core/Src/robot/robot_tasks.cpp **** {
 242              		.loc 1 114 0
 243              		.cfi_startproc
 244              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s 			page 8


 245              		@ frame_needed = 0, uses_anonymous_args = 0
 246              	.LVL33:
 247 0000 10B5     		push	{r4, lr}
 248              	.LCFI3:
 249              		.cfi_def_cfa_offset 8
 250              		.cfi_offset 4, -8
 251              		.cfi_offset 14, -4
 252              	.LVL34:
 115:Core/Src/robot/robot_tasks.cpp **** 	/* USER CODE BEGIN StartCalculationTask */
 116:Core/Src/robot/robot_tasks.cpp **** 	/* Infinite loop */
 117:Core/Src/robot/robot_tasks.cpp **** 	uint8_t sample_time = 10;
 118:Core/Src/robot/robot_tasks.cpp **** 	uint32_t dt = HAL_GetTick();
 253              		.loc 1 118 0
 254 0002 FFF7FEFF 		bl	HAL_GetTick
 255              	.LVL35:
 256              	.L14:
 119:Core/Src/robot/robot_tasks.cpp **** 	for (;;)
 120:Core/Src/robot/robot_tasks.cpp **** 	{
 121:Core/Src/robot/robot_tasks.cpp **** 		dt = HAL_GetTick();
 257              		.loc 1 121 0 discriminator 1
 258 0006 FFF7FEFF 		bl	HAL_GetTick
 259              	.LVL36:
 260 000a 0446     		mov	r4, r0
 261              	.LVL37:
 122:Core/Src/robot/robot_tasks.cpp **** 		calculate_datas();
 262              		.loc 1 122 0 discriminator 1
 263 000c FFF7FEFF 		bl	_Z15calculate_datasv
 264              	.LVL38:
 123:Core/Src/robot/robot_tasks.cpp **** 		dt = HAL_GetTick() - dt;
 265              		.loc 1 123 0 discriminator 1
 266 0010 FFF7FEFF 		bl	HAL_GetTick
 267              	.LVL39:
 268 0014 001B     		subs	r0, r0, r4
 269              	.LVL40:
 124:Core/Src/robot/robot_tasks.cpp **** 		osDelay(sample_time - dt);
 270              		.loc 1 124 0 discriminator 1
 271 0016 C0F10A00 		rsb	r0, r0, #10
 272              	.LVL41:
 273 001a FFF7FEFF 		bl	osDelay
 274              	.LVL42:
 275 001e F2E7     		b	.L14
 276              		.cfi_endproc
 277              	.LFE506:
 279              		.global	leg1_angle
 280              		.global	leg0_angle
 281              		.global	leg1_omega
 282              		.global	leg0_omega
 283              		.section	.bss.leg0_angle,"aw",%nobits
 284              		.align	2
 285              		.set	.LANCHOR2,. + 0
 288              	leg0_angle:
 289 0000 00000000 		.space	4
 290              		.section	.bss.leg0_omega,"aw",%nobits
 291              		.align	2
 292              		.set	.LANCHOR0,. + 0
 295              	leg0_omega:
 296 0000 00000000 		.space	4
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s 			page 9


 297              		.section	.bss.leg1_angle,"aw",%nobits
 298              		.align	2
 299              		.set	.LANCHOR3,. + 0
 302              	leg1_angle:
 303 0000 00000000 		.space	4
 304              		.section	.bss.leg1_omega,"aw",%nobits
 305              		.align	2
 306              		.set	.LANCHOR1,. + 0
 309              	leg1_omega:
 310 0000 00000000 		.space	4
 311              		.text
 312              	.Letext0:
 313              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 314              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 315              		.file 5 "Core/Inc/sys/FreeRTOSConfig.h"
 316              		.file 6 "Drivers/CMSIS/Include/core_cm4.h"
 317              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 318              		.file 8 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 319              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 320              		.file 10 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 321              		.file 11 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\lib\\gcc\\arm-none-eab
 322              		.file 12 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 323              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 324              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 325              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 326              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 327              		.file 17 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 328              		.file 18 "Core/Inc/periphs/tim.h"
 329              		.file 19 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 330              		.file 20 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 331              		.file 21 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 332              		.file 22 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 333              		.file 23 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 334              		.file 24 "Core/Inc/devs/motor.h"
 335              		.file 25 "Core/Inc/devs/encoder.h"
 336              		.file 26 "Core/Inc/utils/pid_algorithms.h"
 337              		.file 27 "Core/Inc/devs/limit_switch.h"
 338              		.file 28 "Core/Inc/periphs/usart.h"
 339              		.file 29 "Core/Inc/periphs/adc.h"
 340              		.file 30 "Core/Inc/robot/robot.h"
 341              		.file 31 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 342              		.file 32 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 343              		.file 33 "<built-in>"
 344              		.file 34 "Core/Inc/robot/robot_functions.h"
ARM GAS  C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s 			page 10


DEFINED SYMBOLS
                            *ABS*:00000000 robot_tasks.cpp
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:18     .text.StartDefaultTask:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:25     .text.StartDefaultTask:00000000 StartDefaultTask
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:50     .text.StartRobotTask:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:57     .text.StartRobotTask:00000000 StartRobotTask
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:176    .text.StartRobotTask:00000080 $d
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:189    .text.StartLoggerTask:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:196    .text.StartLoggerTask:00000000 StartLoggerTask
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:233    .text.StartCalculationTask:00000000 $t
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:240    .text.StartCalculationTask:00000000 StartCalculationTask
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:302    .bss.leg1_angle:00000000 leg1_angle
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:288    .bss.leg0_angle:00000000 leg0_angle
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:309    .bss.leg1_omega:00000000 leg1_omega
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:295    .bss.leg0_omega:00000000 leg0_omega
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:284    .bss.leg0_angle:00000000 $d
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:291    .bss.leg0_omega:00000000 $d
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:298    .bss.leg1_angle:00000000 $d
C:\Users\Prashant\AppData\Local\Temp\cc7v3EDm.s:305    .bss.leg1_omega:00000000 $d

UNDEFINED SYMBOLS
osDelay
HAL_GetTick
_ZN7encoder9get_omegaEv
_ZN7encoder9get_angleEv
_Z2goif
ROBOT_START_FLAG
robo_state
angles
leg
_Z15calculate_datasv
